ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"foc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.UVects_Init,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	UVects_Init:
  26              	.LFB166:
  27              		.file 1 "Src/foc.c"
   1:Src/foc.c     **** #include "foc.h"
   2:Src/foc.c     **** #include "tim.h"
   3:Src/foc.c     **** #include "math.h"
   4:Src/foc.c     **** #include "arm_math.h"
   5:Src/foc.c     **** #include "adc.h"
   6:Src/foc.c     **** #include "as5047.h"
   7:Src/foc.c     **** #include "uart_ext.h"
   8:Src/foc.c     **** 
   9:Src/foc.c     **** #define MIN(a,b)    a<b?a:b
  10:Src/foc.c     **** 
  11:Src/foc.c     **** uint16_t ADC_Values_Raw[4];
  12:Src/foc.c     **** uint16_t ADC_Values_Raw2[4];
  13:Src/foc.c     **** float Ialpha,Ibeta;
  14:Src/foc.c     **** //#define PI  3.1415926f
  15:Src/foc.c     **** typedef struct{
  16:Src/foc.c     ****     uint8_t a;
  17:Src/foc.c     ****     uint8_t b;
  18:Src/foc.c     ****     uint8_t c;
  19:Src/foc.c     ****     float theta;
  20:Src/foc.c     ****     float x;
  21:Src/foc.c     ****     float y;
  22:Src/foc.c     **** }Uvect_Mos;
  23:Src/foc.c     **** 
  24:Src/foc.c     **** typedef struct{
  25:Src/foc.c     ****     float ccra;
  26:Src/foc.c     ****     float ccrb;
  27:Src/foc.c     ****     float ccrc;
  28:Src/foc.c     **** }CCR_Duty;
  29:Src/foc.c     **** 
  30:Src/foc.c     **** typedef struct{
  31:Src/foc.c     ****     uint8_t pairs;
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 2


  32:Src/foc.c     ****     float R;
  33:Src/foc.c     ****     float L;
  34:Src/foc.c     ****     int8_t direction; 
  35:Src/foc.c     ****     // ÁîµÊú∫ÁöÑËøêËΩ¨ÊñπÂêëÔºåÁ∫¶ÂÆöÂú®ÂºÄÁéØÊ®°Âºè‰∏ãÔºåÁîµÊú∫Êåâu4->u6ÊñπÂêëËøêË°åÔºàÁîµËßíÂ∫¶Â¢
  36:Src/foc.c     ****     // Ê≠§ÂèÇÊï∞‰∏éÁîµÊú∫ a b c ‰∏âÁõ∏ÁöÑÁÑäÊé•ÊúâÂÖ≥
  37:Src/foc.c     ****     // Ê≠§ÂèÇÊï∞‰ªÖÂú®ÊúâÊÑüÊ®°Âºè‰∏≠(SENSOR_FOC)ÊúâÁî®
  38:Src/foc.c     **** }Motor_Info;
  39:Src/foc.c     **** 
  40:Src/foc.c     **** enum{
  41:Src/foc.c     ****     WAIT,
  42:Src/foc.c     ****     SENSOR_FOC,
  43:Src/foc.c     ****     SENSOR_LESS_FOC,
  44:Src/foc.c     ****     VF_OPENLOOP,
  45:Src/foc.c     ****     MEASURE_R,
  46:Src/foc.c     ****     MEASURE_L,
  47:Src/foc.c     ****     TEST_DIRECTION,
  48:Src/foc.c     ****     TEST_POSITION_OFFSET
  49:Src/foc.c     **** }Board_Mode;
  50:Src/foc.c     **** 
  51:Src/foc.c     **** struct{
  52:Src/foc.c     ****     uint32_t time; // unit:ms
  53:Src/foc.c     ****     float last_position;
  54:Src/foc.c     ****     int direction_result;
  55:Src/foc.c     **** }Test_Direction_Info;
  56:Src/foc.c     **** 
  57:Src/foc.c     **** Motor_Info Motor={7,0,0};
  58:Src/foc.c     **** 
  59:Src/foc.c     **** Uvect_Mos U0={0,0,0,0};
  60:Src/foc.c     **** Uvect_Mos U4={1,0,0,0};
  61:Src/foc.c     **** Uvect_Mos U6={1,1,0,PI/3};
  62:Src/foc.c     **** Uvect_Mos U2={0,1,0,PI/3*2};
  63:Src/foc.c     **** Uvect_Mos U3={0,1,1,PI};
  64:Src/foc.c     **** Uvect_Mos U1={0,0,1,PI/3*4};
  65:Src/foc.c     **** Uvect_Mos U5={1,0,1,PI/3*5};
  66:Src/foc.c     **** Uvect_Mos U7={1,1,1,0};
  67:Src/foc.c     **** 
  68:Src/foc.c     **** Uvect_Mos *Uvects[6]={&U1,&U2,&U3,&U4,&U5,&U6};
  69:Src/foc.c     **** 
  70:Src/foc.c     **** 
  71:Src/foc.c     **** static float theta=0;
  72:Src/foc.c     **** float RPS=6;   // ËΩ¨ÈÄü
  73:Src/foc.c     **** 
  74:Src/foc.c     **** float Position_Degree;
  75:Src/foc.c     **** 
  76:Src/foc.c     **** float Position_Offset=215.793457f;
  77:Src/foc.c     **** //float Position_Offset=273.164062f;
  78:Src/foc.c     **** 
  79:Src/foc.c     **** #define TIM7_FREQ   1000
  80:Src/foc.c     **** #define TIM8_FREQ   20000
  81:Src/foc.c     **** 
  82:Src/foc.c     **** #define DRIVE
  83:Src/foc.c     **** 
  84:Src/foc.c     **** static void UVects_Init(){
  28              		.loc 1 84 26 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 3


  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  39 0002 2DED028B 		vpush.64	{d8}
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  42              		.cfi_offset 80, -24
  43              		.cfi_offset 81, -20
  85:Src/foc.c     ****     for(int i=0;i<6;++i){
  44              		.loc 1 85 5 view .LVU1
  45              	.LBB2:
  46              		.loc 1 85 9 view .LVU2
  47              	.LVL0:
  48              		.loc 1 85 13 is_stmt 0 view .LVU3
  49 0006 0024     		movs	r4, #0
  50              	.LVL1:
  51              	.L2:
  52              		.loc 1 85 17 is_stmt 1 discriminator 1 view .LVU4
  53              		.loc 1 85 5 is_stmt 0 discriminator 1 view .LVU5
  54 0008 052C     		cmp	r4, #5
  55 000a 14DC     		bgt	.L5
  56              	.LBB3:
  86:Src/foc.c     ****         float v_theta=Uvects[i]->theta;
  57              		.loc 1 86 9 is_stmt 1 discriminator 3 view .LVU6
  58              		.loc 1 86 29 is_stmt 0 discriminator 3 view .LVU7
  59 000c 0B4D     		ldr	r5, .L6
  60 000e 55F82460 		ldr	r6, [r5, r4, lsl #2]
  61              		.loc 1 86 15 discriminator 3 view .LVU8
  62 0012 96ED018A 		vldr.32	s16, [r6, #4]
  63              	.LVL2:
  87:Src/foc.c     ****         Uvects[i]->x=cosf(v_theta);
  64              		.loc 1 87 9 is_stmt 1 discriminator 3 view .LVU9
  65              		.loc 1 87 22 is_stmt 0 discriminator 3 view .LVU10
  66 0016 B0EE480A 		vmov.f32	s0, s16
  67 001a FFF7FEFF 		bl	cosf
  68              	.LVL3:
  69              		.loc 1 87 21 discriminator 3 view .LVU11
  70 001e 86ED020A 		vstr.32	s0, [r6, #8]
  88:Src/foc.c     ****         Uvects[i]->y=sinf(v_theta);
  71              		.loc 1 88 9 is_stmt 1 discriminator 3 view .LVU12
  72              		.loc 1 88 15 is_stmt 0 discriminator 3 view .LVU13
  73 0022 55F82450 		ldr	r5, [r5, r4, lsl #2]
  74              		.loc 1 88 22 discriminator 3 view .LVU14
  75 0026 B0EE480A 		vmov.f32	s0, s16
  76 002a FFF7FEFF 		bl	sinf
  77              	.LVL4:
  78              		.loc 1 88 21 discriminator 3 view .LVU15
  79 002e 85ED030A 		vstr.32	s0, [r5, #12]
  80              	.LBE3:
  85:Src/foc.c     ****         float v_theta=Uvects[i]->theta;
  81              		.loc 1 85 21 is_stmt 1 discriminator 3 view .LVU16
  82 0032 0134     		adds	r4, r4, #1
  83              	.LVL5:
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 4


  85:Src/foc.c     ****         float v_theta=Uvects[i]->theta;
  84              		.loc 1 85 21 is_stmt 0 discriminator 3 view .LVU17
  85 0034 E8E7     		b	.L2
  86              	.LVL6:
  87              	.L5:
  85:Src/foc.c     ****         float v_theta=Uvects[i]->theta;
  88              		.loc 1 85 21 discriminator 3 view .LVU18
  89              	.LBE2:
  89:Src/foc.c     ****     }
  90:Src/foc.c     **** }
  90              		.loc 1 90 1 view .LVU19
  91 0036 BDEC028B 		vldm	sp!, {d8}
  92              	.LCFI2:
  93              		.cfi_restore 80
  94              		.cfi_restore 81
  95              		.cfi_def_cfa_offset 16
  96 003a 70BD     		pop	{r4, r5, r6, pc}
  97              	.LVL7:
  98              	.L7:
  99              		.loc 1 90 1 view .LVU20
 100              		.align	2
 101              	.L6:
 102 003c 00000000 		.word	.LANCHOR0
 103              		.cfi_endproc
 104              	.LFE166:
 106              		.section	.text.Foc_Init,"ax",%progbits
 107              		.align	1
 108              		.global	Foc_Init
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	Foc_Init:
 115              	.LVL8:
 116              	.LFB167:
  91:Src/foc.c     **** 
  92:Src/foc.c     **** void Foc_Init(float rps){
 117              		.loc 1 92 25 is_stmt 1 view -0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 0
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              		.loc 1 92 25 is_stmt 0 view .LVU22
 122 0000 10B5     		push	{r4, lr}
 123              	.LCFI3:
 124              		.cfi_def_cfa_offset 8
 125              		.cfi_offset 4, -8
 126              		.cfi_offset 14, -4
  93:Src/foc.c     ****     // rps unit is r/s
  94:Src/foc.c     ****     Board_Mode=VF_OPENLOOP;
 127              		.loc 1 94 5 is_stmt 1 view .LVU23
 128              		.loc 1 94 15 is_stmt 0 view .LVU24
 129 0002 1A4B     		ldr	r3, .L10
 130 0004 0322     		movs	r2, #3
 131 0006 1A70     		strb	r2, [r3]
  95:Src/foc.c     ****     TIM8->ARR=168000000/TIM8_FREQ/2;
 132              		.loc 1 95 5 is_stmt 1 view .LVU25
 133              		.loc 1 95 14 is_stmt 0 view .LVU26
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 5


 134 0008 194B     		ldr	r3, .L10+4
 135 000a 41F26802 		movw	r2, #4200
 136 000e DA62     		str	r2, [r3, #44]
  96:Src/foc.c     **** 
  97:Src/foc.c     ****     TIM8->CCR4=TIM8->ARR-2;
 137              		.loc 1 97 5 is_stmt 1 view .LVU27
 138              		.loc 1 97 20 is_stmt 0 view .LVU28
 139 0010 DA6A     		ldr	r2, [r3, #44]
 140              		.loc 1 97 25 view .LVU29
 141 0012 023A     		subs	r2, r2, #2
 142              		.loc 1 97 15 view .LVU30
 143 0014 1A64     		str	r2, [r3, #64]
  98:Src/foc.c     **** 
  99:Src/foc.c     ****     UVects_Init();
 144              		.loc 1 99 5 is_stmt 1 view .LVU31
 145 0016 FFF7FEFF 		bl	UVects_Init
 146              	.LVL9:
 100:Src/foc.c     **** #ifdef DRIVE 
 101:Src/foc.c     ****     HAL_TIM_PWM_Start(&htim8,TIM_CHANNEL_1);
 147              		.loc 1 101 5 view .LVU32
 148 001a 164C     		ldr	r4, .L10+8
 149 001c 0021     		movs	r1, #0
 150 001e 2046     		mov	r0, r4
 151 0020 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 152              	.LVL10:
 102:Src/foc.c     ****     HAL_TIM_PWM_Start(&htim8,TIM_CHANNEL_2);
 153              		.loc 1 102 5 view .LVU33
 154 0024 0421     		movs	r1, #4
 155 0026 2046     		mov	r0, r4
 156 0028 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 157              	.LVL11:
 103:Src/foc.c     ****     HAL_TIM_PWM_Start(&htim8,TIM_CHANNEL_3);
 158              		.loc 1 103 5 view .LVU34
 159 002c 0821     		movs	r1, #8
 160 002e 2046     		mov	r0, r4
 161 0030 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 162              	.LVL12:
 104:Src/foc.c     **** 
 105:Src/foc.c     ****     HAL_TIMEx_PWMN_Start(&htim8,TIM_CHANNEL_1);
 163              		.loc 1 105 5 view .LVU35
 164 0034 0021     		movs	r1, #0
 165 0036 2046     		mov	r0, r4
 166 0038 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 167              	.LVL13:
 106:Src/foc.c     ****     HAL_TIMEx_PWMN_Start(&htim8,TIM_CHANNEL_2);
 168              		.loc 1 106 5 view .LVU36
 169 003c 0421     		movs	r1, #4
 170 003e 2046     		mov	r0, r4
 171 0040 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 172              	.LVL14:
 107:Src/foc.c     ****     HAL_TIMEx_PWMN_Start(&htim8,TIM_CHANNEL_3);
 173              		.loc 1 107 5 view .LVU37
 174 0044 0821     		movs	r1, #8
 175 0046 2046     		mov	r0, r4
 176 0048 FFF7FEFF 		bl	HAL_TIMEx_PWMN_Start
 177              	.LVL15:
 108:Src/foc.c     **** #endif
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 6


 109:Src/foc.c     ****     TIM7->ARR=84000000/TIM7_FREQ-1;
 178              		.loc 1 109 5 view .LVU38
 179              		.loc 1 109 14 is_stmt 0 view .LVU39
 180 004c 0A4B     		ldr	r3, .L10+12
 181 004e 0B4A     		ldr	r2, .L10+16
 182 0050 DA62     		str	r2, [r3, #44]
 110:Src/foc.c     ****     HAL_TIM_Base_Start_IT(&htim7);
 183              		.loc 1 110 5 is_stmt 1 view .LVU40
 184 0052 0B48     		ldr	r0, .L10+20
 185 0054 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 186              	.LVL16:
 111:Src/foc.c     **** 
 112:Src/foc.c     ****     //ADC
 113:Src/foc.c     ****    // HAL_ADC_Start_DMA(&hadc1,(uint32_t *)ADC_Values_Raw,2);
 114:Src/foc.c     ****     HAL_ADC_Start_DMA(&hadc2,(uint32_t *)ADC_Values_Raw2,2);
 187              		.loc 1 114 5 view .LVU41
 188 0058 0222     		movs	r2, #2
 189 005a 0A49     		ldr	r1, .L10+24
 190 005c 0A48     		ldr	r0, .L10+28
 191 005e FFF7FEFF 		bl	HAL_ADC_Start_DMA
 192              	.LVL17:
 115:Src/foc.c     ****     HAL_TIM_Base_Start(&htim8);
 193              		.loc 1 115 5 view .LVU42
 194 0062 2046     		mov	r0, r4
 195 0064 FFF7FEFF 		bl	HAL_TIM_Base_Start
 196              	.LVL18:
 116:Src/foc.c     **** }
 197              		.loc 1 116 1 is_stmt 0 view .LVU43
 198 0068 10BD     		pop	{r4, pc}
 199              	.L11:
 200 006a 00BF     		.align	2
 201              	.L10:
 202 006c 00000000 		.word	Board_Mode
 203 0070 00040140 		.word	1073808384
 204 0074 00000000 		.word	htim8
 205 0078 00140040 		.word	1073746944
 206 007c 1F480100 		.word	83999
 207 0080 00000000 		.word	htim7
 208 0084 00000000 		.word	ADC_Values_Raw2
 209 0088 00000000 		.word	hadc2
 210              		.cfi_endproc
 211              	.LFE167:
 213              		.section	.text.get_area,"ax",%progbits
 214              		.align	1
 215              		.global	get_area
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu fpv4-sp-d16
 221              	get_area:
 222              	.LVL19:
 223              	.LFB168:
 117:Src/foc.c     **** 
 118:Src/foc.c     **** uint8_t get_area(uint32_t now_theta){
 224              		.loc 1 118 37 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 7


 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
 119:Src/foc.c     ****     return now_theta/60+1;
 229              		.loc 1 119 5 view .LVU45
 230              		.loc 1 119 21 is_stmt 0 view .LVU46
 231 0000 034B     		ldr	r3, .L13
 232 0002 A3FB0030 		umull	r3, r0, r3, r0
 233              	.LVL20:
 234              		.loc 1 119 21 view .LVU47
 235 0006 4009     		lsrs	r0, r0, #5
 236              		.loc 1 119 24 view .LVU48
 237 0008 0130     		adds	r0, r0, #1
 120:Src/foc.c     **** }
 238              		.loc 1 120 1 view .LVU49
 239 000a C0B2     		uxtb	r0, r0
 240 000c 7047     		bx	lr
 241              	.L14:
 242 000e 00BF     		.align	2
 243              	.L13:
 244 0010 89888888 		.word	-2004318071
 245              		.cfi_endproc
 246              	.LFE168:
 248              		.section	.text.get_area_u,"ax",%progbits
 249              		.align	1
 250              		.global	get_area_u
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv4-sp-d16
 256              	get_area_u:
 257              	.LVL21:
 258              	.LFB169:
 121:Src/foc.c     **** 
 122:Src/foc.c     **** // Ê†πÊçÆÊâáÂå∫Âè∑ÔºåËé∑ÂèñËØ•ÊâáÂå∫ÁöÑ‰∏§‰∏™ÁîµÂéãÁü¢Èáè
 123:Src/foc.c     **** // area:1-6
 124:Src/foc.c     **** void get_area_u(uint8_t area,Uvect_Mos *u1,Uvect_Mos *u2){
 259              		.loc 1 124 58 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		@ link register save eliminated.
 264              		.loc 1 124 58 is_stmt 0 view .LVU51
 265 0000 30B4     		push	{r4, r5}
 266              	.LCFI4:
 267              		.cfi_def_cfa_offset 8
 268              		.cfi_offset 4, -8
 269              		.cfi_offset 5, -4
 270 0002 0D46     		mov	r5, r1
 271 0004 1446     		mov	r4, r2
 125:Src/foc.c     ****     switch (area)
 272              		.loc 1 125 5 is_stmt 1 view .LVU52
 273 0006 0138     		subs	r0, r0, #1
 274              	.LVL22:
 275              		.loc 1 125 5 is_stmt 0 view .LVU53
 276 0008 0528     		cmp	r0, #5
 277 000a 0CD8     		bhi	.L15
 278 000c DFE800F0 		tbb	[pc, r0]
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 8


 279              	.L18:
 280 0010 03       		.byte	(.L23-.L18)/2
 281 0011 0D       		.byte	(.L22-.L18)/2
 282 0012 16       		.byte	(.L21-.L18)/2
 283 0013 1F       		.byte	(.L20-.L18)/2
 284 0014 28       		.byte	(.L19-.L18)/2
 285 0015 31       		.byte	(.L17-.L18)/2
 286              		.p2align 1
 287              	.L23:
 126:Src/foc.c     ****     {
 127:Src/foc.c     ****     case 1:
 128:Src/foc.c     ****         *u1=U4;
 288              		.loc 1 128 9 is_stmt 1 view .LVU54
 289              		.loc 1 128 12 is_stmt 0 view .LVU55
 290 0016 1B4B     		ldr	r3, .L25
 291 0018 0FCB     		ldm	r3, {r0, r1, r2, r3}
 292              	.LVL23:
 293              		.loc 1 128 12 view .LVU56
 294 001a 85E80F00 		stm	r5, {r0, r1, r2, r3}
 129:Src/foc.c     ****         *u2=U6;
 295              		.loc 1 129 9 is_stmt 1 view .LVU57
 296              		.loc 1 129 12 is_stmt 0 view .LVU58
 297 001e 1A4B     		ldr	r3, .L25+4
 298 0020 0FCB     		ldm	r3, {r0, r1, r2, r3}
 299 0022 84E80F00 		stm	r4, {r0, r1, r2, r3}
 130:Src/foc.c     ****         break;
 300              		.loc 1 130 9 is_stmt 1 view .LVU59
 301              	.L15:
 131:Src/foc.c     ****     case 2:
 132:Src/foc.c     ****         *u1=U6;
 133:Src/foc.c     ****         *u2=U2;
 134:Src/foc.c     ****         break;
 135:Src/foc.c     ****     case 3:
 136:Src/foc.c     ****         *u1=U2;
 137:Src/foc.c     ****         *u2=U3;
 138:Src/foc.c     ****         break;
 139:Src/foc.c     ****     case 4:
 140:Src/foc.c     ****         *u1=U3;
 141:Src/foc.c     ****         *u2=U1;
 142:Src/foc.c     ****         break;
 143:Src/foc.c     ****     case 5:
 144:Src/foc.c     ****         *u1=U1;
 145:Src/foc.c     ****         *u2=U5;
 146:Src/foc.c     ****         break;
 147:Src/foc.c     ****     case 6:
 148:Src/foc.c     ****         *u1=U5;
 149:Src/foc.c     ****         *u2=U4;
 150:Src/foc.c     ****         break;
 151:Src/foc.c     ****     default:
 152:Src/foc.c     ****         break;
 153:Src/foc.c     ****     }
 154:Src/foc.c     **** }
 302              		.loc 1 154 1 is_stmt 0 view .LVU60
 303 0026 30BC     		pop	{r4, r5}
 304              	.LCFI5:
 305              		.cfi_remember_state
 306              		.cfi_restore 5
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 9


 307              		.cfi_restore 4
 308              		.cfi_def_cfa_offset 0
 309              	.LVL24:
 310              		.loc 1 154 1 view .LVU61
 311 0028 7047     		bx	lr
 312              	.LVL25:
 313              	.L22:
 314              	.LCFI6:
 315              		.cfi_restore_state
 132:Src/foc.c     ****         *u2=U2;
 316              		.loc 1 132 9 is_stmt 1 view .LVU62
 132:Src/foc.c     ****         *u2=U2;
 317              		.loc 1 132 12 is_stmt 0 view .LVU63
 318 002a 174B     		ldr	r3, .L25+4
 319 002c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 320              	.LVL26:
 132:Src/foc.c     ****         *u2=U2;
 321              		.loc 1 132 12 view .LVU64
 322 002e 85E80F00 		stm	r5, {r0, r1, r2, r3}
 133:Src/foc.c     ****         break;
 323              		.loc 1 133 9 is_stmt 1 view .LVU65
 133:Src/foc.c     ****         break;
 324              		.loc 1 133 12 is_stmt 0 view .LVU66
 325 0032 164B     		ldr	r3, .L25+8
 326 0034 0FCB     		ldm	r3, {r0, r1, r2, r3}
 327 0036 84E80F00 		stm	r4, {r0, r1, r2, r3}
 134:Src/foc.c     ****     case 3:
 328              		.loc 1 134 9 is_stmt 1 view .LVU67
 329 003a F4E7     		b	.L15
 330              	.LVL27:
 331              	.L21:
 136:Src/foc.c     ****         *u2=U3;
 332              		.loc 1 136 9 view .LVU68
 136:Src/foc.c     ****         *u2=U3;
 333              		.loc 1 136 12 is_stmt 0 view .LVU69
 334 003c 134B     		ldr	r3, .L25+8
 335 003e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 336              	.LVL28:
 136:Src/foc.c     ****         *u2=U3;
 337              		.loc 1 136 12 view .LVU70
 338 0040 85E80F00 		stm	r5, {r0, r1, r2, r3}
 137:Src/foc.c     ****         break;
 339              		.loc 1 137 9 is_stmt 1 view .LVU71
 137:Src/foc.c     ****         break;
 340              		.loc 1 137 12 is_stmt 0 view .LVU72
 341 0044 124B     		ldr	r3, .L25+12
 342 0046 0FCB     		ldm	r3, {r0, r1, r2, r3}
 343 0048 84E80F00 		stm	r4, {r0, r1, r2, r3}
 138:Src/foc.c     ****     case 4:
 344              		.loc 1 138 9 is_stmt 1 view .LVU73
 345 004c EBE7     		b	.L15
 346              	.LVL29:
 347              	.L20:
 140:Src/foc.c     ****         *u2=U1;
 348              		.loc 1 140 9 view .LVU74
 140:Src/foc.c     ****         *u2=U1;
 349              		.loc 1 140 12 is_stmt 0 view .LVU75
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 10


 350 004e 104B     		ldr	r3, .L25+12
 351 0050 0FCB     		ldm	r3, {r0, r1, r2, r3}
 352              	.LVL30:
 140:Src/foc.c     ****         *u2=U1;
 353              		.loc 1 140 12 view .LVU76
 354 0052 85E80F00 		stm	r5, {r0, r1, r2, r3}
 141:Src/foc.c     ****         break;
 355              		.loc 1 141 9 is_stmt 1 view .LVU77
 141:Src/foc.c     ****         break;
 356              		.loc 1 141 12 is_stmt 0 view .LVU78
 357 0056 0F4B     		ldr	r3, .L25+16
 358 0058 0FCB     		ldm	r3, {r0, r1, r2, r3}
 359 005a 84E80F00 		stm	r4, {r0, r1, r2, r3}
 142:Src/foc.c     ****     case 5:
 360              		.loc 1 142 9 is_stmt 1 view .LVU79
 361 005e E2E7     		b	.L15
 362              	.LVL31:
 363              	.L19:
 144:Src/foc.c     ****         *u2=U5;
 364              		.loc 1 144 9 view .LVU80
 144:Src/foc.c     ****         *u2=U5;
 365              		.loc 1 144 12 is_stmt 0 view .LVU81
 366 0060 0C4B     		ldr	r3, .L25+16
 367 0062 0FCB     		ldm	r3, {r0, r1, r2, r3}
 368              	.LVL32:
 144:Src/foc.c     ****         *u2=U5;
 369              		.loc 1 144 12 view .LVU82
 370 0064 85E80F00 		stm	r5, {r0, r1, r2, r3}
 145:Src/foc.c     ****         break;
 371              		.loc 1 145 9 is_stmt 1 view .LVU83
 145:Src/foc.c     ****         break;
 372              		.loc 1 145 12 is_stmt 0 view .LVU84
 373 0068 0B4B     		ldr	r3, .L25+20
 374 006a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 375 006c 84E80F00 		stm	r4, {r0, r1, r2, r3}
 146:Src/foc.c     ****     case 6:
 376              		.loc 1 146 9 is_stmt 1 view .LVU85
 377 0070 D9E7     		b	.L15
 378              	.LVL33:
 379              	.L17:
 148:Src/foc.c     ****         *u2=U4;
 380              		.loc 1 148 9 view .LVU86
 148:Src/foc.c     ****         *u2=U4;
 381              		.loc 1 148 12 is_stmt 0 view .LVU87
 382 0072 094B     		ldr	r3, .L25+20
 383 0074 0FCB     		ldm	r3, {r0, r1, r2, r3}
 384              	.LVL34:
 148:Src/foc.c     ****         *u2=U4;
 385              		.loc 1 148 12 view .LVU88
 386 0076 85E80F00 		stm	r5, {r0, r1, r2, r3}
 149:Src/foc.c     ****         break;
 387              		.loc 1 149 9 is_stmt 1 view .LVU89
 149:Src/foc.c     ****         break;
 388              		.loc 1 149 12 is_stmt 0 view .LVU90
 389 007a 024B     		ldr	r3, .L25
 390 007c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 391 007e 84E80F00 		stm	r4, {r0, r1, r2, r3}
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 11


 150:Src/foc.c     ****     default:
 392              		.loc 1 150 9 is_stmt 1 view .LVU91
 393              		.loc 1 154 1 is_stmt 0 view .LVU92
 394 0082 D0E7     		b	.L15
 395              	.L26:
 396              		.align	2
 397              	.L25:
 398 0084 00000000 		.word	.LANCHOR1
 399 0088 00000000 		.word	.LANCHOR2
 400 008c 00000000 		.word	.LANCHOR3
 401 0090 00000000 		.word	.LANCHOR4
 402 0094 00000000 		.word	.LANCHOR5
 403 0098 00000000 		.word	.LANCHOR6
 404              		.cfi_endproc
 405              	.LFE169:
 407              		.section	.text.get_t,"ax",%progbits
 408              		.align	1
 409              		.global	get_t
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 413              		.fpu fpv4-sp-d16
 415              	get_t:
 416              	.LVL35:
 417              	.LFB170:
 155:Src/foc.c     **** 
 156:Src/foc.c     **** 
 157:Src/foc.c     **** /*
 158:Src/foc.c     ****     Ê†πÊçÆthetaÊù•ËÆ°ÁÆóÁõ∏ÈÇª‰∏§‰∏™Áü¢ÈáèÁöÑ‰ΩúÁî®Êó∂Èó¥ÁöÑÂáΩÊï∞Ôºå
 159:Src/foc.c     ****     Âõ†‰∏∫Áî®Âà∞Èô§Ê≥ïÊ¨°Êï∞Â§ö‰∫Ü‰∏ÄÁÇπÔºåÁõÆÂâçÊöÇÊó∂Â∫üÂºÉ„ÄÇ
 160:Src/foc.c     **** */
 161:Src/foc.c     **** void get_t(float theta,float * t1,float *t2){
 418              		.loc 1 161 45 is_stmt 1 view -0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 40
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              		.loc 1 161 45 is_stmt 0 view .LVU94
 423 0000 30B5     		push	{r4, r5, lr}
 424              	.LCFI7:
 425              		.cfi_def_cfa_offset 12
 426              		.cfi_offset 4, -12
 427              		.cfi_offset 5, -8
 428              		.cfi_offset 14, -4
 429 0002 2DED028B 		vpush.64	{d8}
 430              	.LCFI8:
 431              		.cfi_def_cfa_offset 20
 432              		.cfi_offset 80, -20
 433              		.cfi_offset 81, -16
 434 0006 8BB0     		sub	sp, sp, #44
 435              	.LCFI9:
 436              		.cfi_def_cfa_offset 64
 437 0008 B0EE408A 		vmov.f32	s16, s0
 438 000c 0546     		mov	r5, r0
 439 000e 0C46     		mov	r4, r1
 162:Src/foc.c     **** /*
 163:Src/foc.c     **** /       u2y x               u2x y       \
 164:Src/foc.c     **** | ----------------- - ----------------- |
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 12


 165:Src/foc.c     **** | u1x u2y - u2x u1y   u1x u2y - u2x u1y |
 166:Src/foc.c     **** |                                       |
 167:Src/foc.c     **** |       u1x y               u1y x       |
 168:Src/foc.c     **** | ----------------- - ----------------- |
 169:Src/foc.c     **** \ u1x u2y - u2x u1y   u1x u2y - u2x u1y /
 170:Src/foc.c     **** */
 171:Src/foc.c     ****     float temp_t1,temp_t2;
 440              		.loc 1 171 5 is_stmt 1 view .LVU95
 172:Src/foc.c     ****     float theta_f;  // Âçï‰Ωç‰∏∫rad
 441              		.loc 1 172 5 view .LVU96
 173:Src/foc.c     ****     Uvect_Mos u1,u2;
 442              		.loc 1 173 5 view .LVU97
 174:Src/foc.c     ****     float x,y;
 443              		.loc 1 174 5 view .LVU98
 175:Src/foc.c     ****     get_area_u(get_area(theta),&u1,&u2);
 444              		.loc 1 175 5 view .LVU99
 445 0010 FCEEC07A 		vcvt.u32.f32	s15, s0
 446 0014 17EE900A 		vmov	r0, s15	@ int
 447              	.LVL36:
 448              		.loc 1 175 5 is_stmt 0 view .LVU100
 449 0018 FFF7FEFF 		bl	get_area
 450              	.LVL37:
 451              		.loc 1 175 5 view .LVU101
 452 001c 02AA     		add	r2, sp, #8
 453 001e 06A9     		add	r1, sp, #24
 454 0020 FFF7FEFF 		bl	get_area_u
 455              	.LVL38:
 176:Src/foc.c     ****     //theta_f=(float)theta*2.0f*PI/360;
 177:Src/foc.c     ****     arm_sin_cos_f32(theta,&y,&x);
 456              		.loc 1 177 5 is_stmt 1 view .LVU102
 457 0024 01A9     		add	r1, sp, #4
 458 0026 6846     		mov	r0, sp
 459 0028 B0EE480A 		vmov.f32	s0, s16
 460 002c FFF7FEFF 		bl	arm_sin_cos_f32
 461              	.LVL39:
 178:Src/foc.c     ****     x*=0.86f;
 462              		.loc 1 178 5 view .LVU103
 463              		.loc 1 178 6 is_stmt 0 view .LVU104
 464 0030 DFED197A 		vldr.32	s15, .L29
 465 0034 9DED017A 		vldr.32	s14, [sp, #4]
 466 0038 27EE277A 		vmul.f32	s14, s14, s15
 179:Src/foc.c     ****     y*=0.86f;   // sqrt(3)/2 Ê≤°Èîô
 467              		.loc 1 179 5 is_stmt 1 view .LVU105
 468              		.loc 1 179 6 is_stmt 0 view .LVU106
 469 003c DDED006A 		vldr.32	s13, [sp]
 470 0040 66EEA76A 		vmul.f32	s13, s13, s15
 180:Src/foc.c     ****     //x=0.86f*cosf(theta_f);
 181:Src/foc.c     ****     //y=0.86f*sinf(theta_f);
 182:Src/foc.c     ****     temp_t1=u2.y*x/(u1.x*u2.y-u2.x*u1.y)-(u2.x*y)/(u1.x*u2.y-u2.x*u1.y);
 471              		.loc 1 182 5 is_stmt 1 view .LVU107
 472              		.loc 1 182 15 is_stmt 0 view .LVU108
 473 0044 DDED057A 		vldr.32	s15, [sp, #20]
 474              		.loc 1 182 17 view .LVU109
 475 0048 27EE274A 		vmul.f32	s8, s14, s15
 476              		.loc 1 182 23 view .LVU110
 477 004c DDED084A 		vldr.32	s9, [sp, #32]
 478              		.loc 1 182 25 view .LVU111
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 13


 479 0050 67EEA47A 		vmul.f32	s15, s15, s9
 480              		.loc 1 182 33 view .LVU112
 481 0054 9DED046A 		vldr.32	s12, [sp, #16]
 482              		.loc 1 182 38 view .LVU113
 483 0058 9DED095A 		vldr.32	s10, [sp, #36]
 484              		.loc 1 182 35 view .LVU114
 485 005c 66EE055A 		vmul.f32	s11, s12, s10
 486              		.loc 1 182 30 view .LVU115
 487 0060 77EEE57A 		vsub.f32	s15, s15, s11
 488              		.loc 1 182 19 view .LVU116
 489 0064 C4EE275A 		vdiv.f32	s11, s8, s15
 490              		.loc 1 182 47 view .LVU117
 491 0068 26EE866A 		vmul.f32	s12, s13, s12
 492              		.loc 1 182 50 view .LVU118
 493 006c 86EE274A 		vdiv.f32	s8, s12, s15
 494              		.loc 1 182 12 view .LVU119
 495 0070 75EEC45A 		vsub.f32	s11, s11, s8
 496              	.LVL40:
 183:Src/foc.c     ****     temp_t2=u1.x*y/(u1.x*u2.y-u2.x*u1.y)-(u1.y*x)/(u1.x*u2.y-u2.x*u1.y);
 497              		.loc 1 183 5 is_stmt 1 view .LVU120
 498              		.loc 1 183 17 is_stmt 0 view .LVU121
 499 0074 66EEA46A 		vmul.f32	s13, s13, s9
 500              		.loc 1 183 19 view .LVU122
 501 0078 86EEA76A 		vdiv.f32	s12, s13, s15
 502              		.loc 1 183 47 view .LVU123
 503 007c 27EE057A 		vmul.f32	s14, s14, s10
 504              		.loc 1 183 50 view .LVU124
 505 0080 C7EE276A 		vdiv.f32	s13, s14, s15
 506              		.loc 1 183 12 view .LVU125
 507 0084 76EE667A 		vsub.f32	s15, s12, s13
 508              	.LVL41:
 184:Src/foc.c     **** 
 185:Src/foc.c     ****     *t1=temp_t1;
 509              		.loc 1 185 5 is_stmt 1 view .LVU126
 510              		.loc 1 185 8 is_stmt 0 view .LVU127
 511 0088 C5ED005A 		vstr.32	s11, [r5]
 186:Src/foc.c     ****     *t2=temp_t2;
 512              		.loc 1 186 5 is_stmt 1 view .LVU128
 513              		.loc 1 186 8 is_stmt 0 view .LVU129
 514 008c C4ED007A 		vstr.32	s15, [r4]
 187:Src/foc.c     **** 
 188:Src/foc.c     **** }
 515              		.loc 1 188 1 view .LVU130
 516 0090 0BB0     		add	sp, sp, #44
 517              	.LCFI10:
 518              		.cfi_def_cfa_offset 20
 519              		@ sp needed
 520 0092 BDEC028B 		vldm	sp!, {d8}
 521              	.LCFI11:
 522              		.cfi_restore 80
 523              		.cfi_restore 81
 524              		.cfi_def_cfa_offset 12
 525              	.LVL42:
 526              		.loc 1 188 1 view .LVU131
 527 0096 30BD     		pop	{r4, r5, pc}
 528              	.LVL43:
 529              	.L30:
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 14


 530              		.loc 1 188 1 view .LVU132
 531              		.align	2
 532              	.L29:
 533 0098 F6285C3F 		.word	1063004406
 534              		.cfi_endproc
 535              	.LFE170:
 537              		.section	.text.get_ccr_duty,"ax",%progbits
 538              		.align	1
 539              		.global	get_ccr_duty
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 543              		.fpu fpv4-sp-d16
 545              	get_ccr_duty:
 546              	.LVL44:
 547              	.LFB171:
 189:Src/foc.c     **** 
 190:Src/foc.c     **** CCR_Duty get_ccr_duty(float t1,float t2,Uvect_Mos u1,Uvect_Mos u2){
 548              		.loc 1 190 67 is_stmt 1 view -0
 549              		.cfi_startproc
 550              		@ args = 16, pretend = 0, frame = 56
 551              		@ frame_needed = 0, uses_anonymous_args = 0
 552              		@ link register save eliminated.
 553              		.loc 1 190 67 is_stmt 0 view .LVU134
 554 0000 10B4     		push	{r4}
 555              	.LCFI12:
 556              		.cfi_def_cfa_offset 4
 557              		.cfi_offset 4, -4
 558 0002 8FB0     		sub	sp, sp, #60
 559              	.LCFI13:
 560              		.cfi_def_cfa_offset 64
 561 0004 04AC     		add	r4, sp, #16
 562 0006 84E80F00 		stm	r4, {r0, r1, r2, r3}
 191:Src/foc.c     ****     float t0,t3;
 563              		.loc 1 191 5 is_stmt 1 view .LVU135
 192:Src/foc.c     ****     CCR_Duty result;
 564              		.loc 1 192 5 view .LVU136
 193:Src/foc.c     ****     t0=(1-t1-t2)/2;
 565              		.loc 1 193 5 view .LVU137
 566              		.loc 1 193 10 is_stmt 0 view .LVU138
 567 000a F7EE007A 		vmov.f32	s15, #1.0e+0
 568 000e 77EEC07A 		vsub.f32	s15, s15, s0
 569              		.loc 1 193 13 view .LVU139
 570 0012 77EEE07A 		vsub.f32	s15, s15, s1
 571              		.loc 1 193 7 view .LVU140
 572 0016 B6EE007A 		vmov.f32	s14, #5.0e-1
 573 001a 27EE877A 		vmul.f32	s14, s15, s14
 574              	.LVL45:
 194:Src/foc.c     ****     t3=t0;
 575              		.loc 1 194 5 is_stmt 1 view .LVU141
 195:Src/foc.c     **** 
 196:Src/foc.c     ****     result.ccra=U7.a*t3+u1.a*t1+u2.a*t2;
 576              		.loc 1 196 5 view .LVU142
 577              		.loc 1 196 19 is_stmt 0 view .LVU143
 578 001e 344B     		ldr	r3, .L33
 579 0020 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 580 0022 07EE902A 		vmov	s15, r2	@ int
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 15


 581              		.loc 1 196 21 view .LVU144
 582 0026 F8EEE77A 		vcvt.f32.s32	s15, s15
 583 002a 67EE877A 		vmul.f32	s15, s15, s14
 584              		.loc 1 196 27 view .LVU145
 585 002e 9DF81020 		ldrb	r2, [sp, #16]	@ zero_extendqisi2
 586 0032 06EE902A 		vmov	s13, r2	@ int
 587              		.loc 1 196 29 view .LVU146
 588 0036 F8EEE66A 		vcvt.f32.s32	s13, s13
 589 003a 66EE806A 		vmul.f32	s13, s13, s0
 590              		.loc 1 196 24 view .LVU147
 591 003e 77EEA67A 		vadd.f32	s15, s15, s13
 592              		.loc 1 196 35 view .LVU148
 593 0042 9DF84020 		ldrb	r2, [sp, #64]	@ zero_extendqisi2
 594 0046 06EE902A 		vmov	s13, r2	@ int
 595              		.loc 1 196 37 view .LVU149
 596 004a F8EEE66A 		vcvt.f32.s32	s13, s13
 597 004e 66EEA06A 		vmul.f32	s13, s13, s1
 598              		.loc 1 196 32 view .LVU150
 599 0052 77EEA67A 		vadd.f32	s15, s15, s13
 600              		.loc 1 196 16 view .LVU151
 601 0056 CDED087A 		vstr.32	s15, [sp, #32]
 197:Src/foc.c     ****     result.ccrb=U7.b*t3+u1.b*t1+u2.b*t2;
 602              		.loc 1 197 5 is_stmt 1 view .LVU152
 603              		.loc 1 197 19 is_stmt 0 view .LVU153
 604 005a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 605 005c 07EE902A 		vmov	s15, r2	@ int
 606              		.loc 1 197 21 view .LVU154
 607 0060 F8EEE77A 		vcvt.f32.s32	s15, s15
 608 0064 67EE877A 		vmul.f32	s15, s15, s14
 609              		.loc 1 197 27 view .LVU155
 610 0068 9DF81120 		ldrb	r2, [sp, #17]	@ zero_extendqisi2
 611 006c 06EE902A 		vmov	s13, r2	@ int
 612              		.loc 1 197 29 view .LVU156
 613 0070 F8EEE66A 		vcvt.f32.s32	s13, s13
 614 0074 66EE806A 		vmul.f32	s13, s13, s0
 615              		.loc 1 197 24 view .LVU157
 616 0078 77EEA67A 		vadd.f32	s15, s15, s13
 617              		.loc 1 197 35 view .LVU158
 618 007c 9DF84120 		ldrb	r2, [sp, #65]	@ zero_extendqisi2
 619 0080 06EE902A 		vmov	s13, r2	@ int
 620              		.loc 1 197 37 view .LVU159
 621 0084 F8EEE66A 		vcvt.f32.s32	s13, s13
 622 0088 66EEA06A 		vmul.f32	s13, s13, s1
 623              		.loc 1 197 32 view .LVU160
 624 008c 77EEA67A 		vadd.f32	s15, s15, s13
 625              		.loc 1 197 16 view .LVU161
 626 0090 CDED097A 		vstr.32	s15, [sp, #36]
 198:Src/foc.c     ****     result.ccrc=U7.c*t3+u1.c*t1+u2.c*t2;
 627              		.loc 1 198 5 is_stmt 1 view .LVU162
 628              		.loc 1 198 19 is_stmt 0 view .LVU163
 629 0094 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 630 0096 07EE903A 		vmov	s15, r3	@ int
 631              		.loc 1 198 21 view .LVU164
 632 009a F8EEE77A 		vcvt.f32.s32	s15, s15
 633 009e 67EE877A 		vmul.f32	s15, s15, s14
 634              		.loc 1 198 27 view .LVU165
 635 00a2 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 16


 636 00a6 07EE103A 		vmov	s14, r3	@ int
 637              	.LVL46:
 638              		.loc 1 198 29 view .LVU166
 639 00aa B8EEC77A 		vcvt.f32.s32	s14, s14
 640 00ae 27EE000A 		vmul.f32	s0, s14, s0
 641              	.LVL47:
 642              		.loc 1 198 24 view .LVU167
 643 00b2 37EE800A 		vadd.f32	s0, s15, s0
 644              		.loc 1 198 35 view .LVU168
 645 00b6 9DF84230 		ldrb	r3, [sp, #66]	@ zero_extendqisi2
 646 00ba 07EE903A 		vmov	s15, r3	@ int
 647              		.loc 1 198 37 view .LVU169
 648 00be F8EEE77A 		vcvt.f32.s32	s15, s15
 649 00c2 67EEA00A 		vmul.f32	s1, s15, s1
 650              	.LVL48:
 651              		.loc 1 198 32 view .LVU170
 652 00c6 70EE200A 		vadd.f32	s1, s0, s1
 653              		.loc 1 198 16 view .LVU171
 654 00ca CDED0A0A 		vstr.32	s1, [sp, #40]
 199:Src/foc.c     **** 
 200:Src/foc.c     ****     return result;
 655              		.loc 1 200 5 is_stmt 1 view .LVU172
 656              		.loc 1 200 12 is_stmt 0 view .LVU173
 657 00ce 08AB     		add	r3, sp, #32
 658 00d0 93E80700 		ldm	r3, {r0, r1, r2}
 659 00d4 0EAB     		add	r3, sp, #56
 660 00d6 03E90700 		stmdb	r3, {r0, r1, r2}
 201:Src/foc.c     **** }
 661              		.loc 1 201 1 view .LVU174
 662 00da 9DED0B0A 		vldr.32	s0, [sp, #44]
 663 00de DDED0C0A 		vldr.32	s1, [sp, #48]
 664 00e2 9DED0D1A 		vldr.32	s2, [sp, #52]
 665 00e6 0FB0     		add	sp, sp, #60
 666              	.LCFI14:
 667              		.cfi_def_cfa_offset 4
 668              		@ sp needed
 669 00e8 5DF8044B 		ldr	r4, [sp], #4
 670              	.LCFI15:
 671              		.cfi_restore 4
 672              		.cfi_def_cfa_offset 0
 673 00ec 7047     		bx	lr
 674              	.L34:
 675 00ee 00BF     		.align	2
 676              	.L33:
 677 00f0 00000000 		.word	.LANCHOR7
 678              		.cfi_endproc
 679              	.LFE171:
 681              		.section	.text.SVPWM_Step,"ax",%progbits
 682              		.align	1
 683              		.global	SVPWM_Step
 684              		.syntax unified
 685              		.thumb
 686              		.thumb_func
 687              		.fpu fpv4-sp-d16
 689              	SVPWM_Step:
 690              	.LFB172:
 202:Src/foc.c     **** 
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 17


 203:Src/foc.c     **** void SVPWM_Step(CCR_Duty duty){
 691              		.loc 1 203 31 is_stmt 1 view -0
 692              		.cfi_startproc
 693              		@ args = 0, pretend = 0, frame = 16
 694              		@ frame_needed = 0, uses_anonymous_args = 0
 695              		@ link register save eliminated.
 696 0000 84B0     		sub	sp, sp, #16
 697              	.LCFI16:
 698              		.cfi_def_cfa_offset 16
 699 0002 8DED010A 		vstr.32	s0, [sp, #4]
 700 0006 CDED020A 		vstr.32	s1, [sp, #8]
 701 000a 8DED031A 		vstr.32	s2, [sp, #12]
 204:Src/foc.c     ****     TIM8->CCR1=duty.ccrc*TIM8->ARR;
 702              		.loc 1 204 5 view .LVU176
 703              		.loc 1 204 30 is_stmt 0 view .LVU177
 704 000e 124B     		ldr	r3, .L37
 705 0010 D3ED0B7A 		vldr.32	s15, [r3, #44]	@ int
 706              		.loc 1 204 25 view .LVU178
 707 0014 F8EE677A 		vcvt.f32.u32	s15, s15
 708 0018 27EE811A 		vmul.f32	s2, s15, s2
 709              		.loc 1 204 15 view .LVU179
 710 001c BCEEC11A 		vcvt.u32.f32	s2, s2
 711 0020 83ED0D1A 		vstr.32	s2, [r3, #52]	@ int
 205:Src/foc.c     ****     TIM8->CCR2=duty.ccrb*TIM8->ARR;
 712              		.loc 1 205 5 is_stmt 1 view .LVU180
 713              		.loc 1 205 30 is_stmt 0 view .LVU181
 714 0024 D3ED0B7A 		vldr.32	s15, [r3, #44]	@ int
 715              		.loc 1 205 25 view .LVU182
 716 0028 F8EE677A 		vcvt.f32.u32	s15, s15
 717 002c 9DED027A 		vldr.32	s14, [sp, #8]
 718 0030 67EE877A 		vmul.f32	s15, s15, s14
 719              		.loc 1 205 15 view .LVU183
 720 0034 FCEEE77A 		vcvt.u32.f32	s15, s15
 721 0038 C3ED0E7A 		vstr.32	s15, [r3, #56]	@ int
 206:Src/foc.c     ****     TIM8->CCR3=duty.ccra*TIM8->ARR;
 722              		.loc 1 206 5 is_stmt 1 view .LVU184
 723              		.loc 1 206 30 is_stmt 0 view .LVU185
 724 003c D3ED0B7A 		vldr.32	s15, [r3, #44]	@ int
 725              		.loc 1 206 25 view .LVU186
 726 0040 F8EE677A 		vcvt.f32.u32	s15, s15
 727 0044 9DED017A 		vldr.32	s14, [sp, #4]
 728 0048 67EE877A 		vmul.f32	s15, s15, s14
 729              		.loc 1 206 15 view .LVU187
 730 004c FCEEE77A 		vcvt.u32.f32	s15, s15
 731 0050 C3ED0F7A 		vstr.32	s15, [r3, #60]	@ int
 207:Src/foc.c     **** }
 732              		.loc 1 207 1 view .LVU188
 733 0054 04B0     		add	sp, sp, #16
 734              	.LCFI17:
 735              		.cfi_def_cfa_offset 0
 736              		@ sp needed
 737 0056 7047     		bx	lr
 738              	.L38:
 739              		.align	2
 740              	.L37:
 741 0058 00040140 		.word	1073808384
 742              		.cfi_endproc
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 18


 743              	.LFE172:
 745              		.global	__aeabi_f2d
 746              		.section	.rodata.Set_to_U4.str1.4,"aMS",%progbits,1
 747              		.align	2
 748              	.LC0:
 749 0000 706F7369 		.ascii	"position:%f \015\012\000"
 749      74696F6E 
 749      3A256620 
 749      0D0A00
 750              		.section	.text.Set_to_U4,"ax",%progbits
 751              		.align	1
 752              		.global	Set_to_U4
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 756              		.fpu fpv4-sp-d16
 758              	Set_to_U4:
 759              	.LVL49:
 760              	.LFB173:
 208:Src/foc.c     **** 
 209:Src/foc.c     **** /*
 210:Src/foc.c     ****     Â∞ÜÁîµÂéãÁü¢ÈáèËÆæÁΩÆ‰∏∫U4ÔºåÂπ∂ÊåÅÁª≠‰∏ÄÊÆµÊó∂Èó¥
 211:Src/foc.c     **** */
 212:Src/foc.c     **** void Set_to_U4(uint8_t t){
 761              		.loc 1 212 26 is_stmt 1 view -0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 16
 764              		@ frame_needed = 0, uses_anonymous_args = 0
 765              		.loc 1 212 26 is_stmt 0 view .LVU190
 766 0000 10B5     		push	{r4, lr}
 767              	.LCFI18:
 768              		.cfi_def_cfa_offset 8
 769              		.cfi_offset 4, -8
 770              		.cfi_offset 14, -4
 771 0002 84B0     		sub	sp, sp, #16
 772              	.LCFI19:
 773              		.cfi_def_cfa_offset 24
 774 0004 0446     		mov	r4, r0
 213:Src/foc.c     ****     CCR_Duty temp_duty={0};
 775              		.loc 1 213 5 is_stmt 1 view .LVU191
 214:Src/foc.c     ****     temp_duty.ccra=U4.a;
 776              		.loc 1 214 5 view .LVU192
 777              		.loc 1 214 22 is_stmt 0 view .LVU193
 778 0006 194B     		ldr	r3, .L41
 779 0008 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 780 000a 00EE102A 		vmov	s0, r2	@ int
 215:Src/foc.c     ****     temp_duty.ccrb=U4.b;
 781              		.loc 1 215 5 is_stmt 1 view .LVU194
 782              		.loc 1 215 22 is_stmt 0 view .LVU195
 783 000e 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 784 0010 00EE902A 		vmov	s1, r2	@ int
 216:Src/foc.c     ****     temp_duty.ccrc=U4.c;
 785              		.loc 1 216 5 is_stmt 1 view .LVU196
 786              		.loc 1 216 22 is_stmt 0 view .LVU197
 787 0014 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 788 0016 01EE103A 		vmov	s2, r3	@ int
 217:Src/foc.c     ****     SVPWM_Step(temp_duty);
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 19


 789              		.loc 1 217 5 is_stmt 1 view .LVU198
 790 001a B8EE400A 		vcvt.f32.u32	s0, s0
 791 001e F8EE600A 		vcvt.f32.u32	s1, s1
 792 0022 B8EE411A 		vcvt.f32.u32	s2, s2
 793 0026 FFF7FEFF 		bl	SVPWM_Step
 794              	.LVL50:
 218:Src/foc.c     ****     HAL_Delay(t);
 795              		.loc 1 218 5 view .LVU199
 796 002a 2046     		mov	r0, r4
 797 002c FFF7FEFF 		bl	HAL_Delay
 798              	.LVL51:
 219:Src/foc.c     ****     temp_duty.ccra=U0.a;
 799              		.loc 1 219 5 view .LVU200
 800              		.loc 1 219 22 is_stmt 0 view .LVU201
 801 0030 0F4B     		ldr	r3, .L41+4
 802 0032 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 803 0034 00EE102A 		vmov	s0, r2	@ int
 220:Src/foc.c     ****     temp_duty.ccrb=U0.b;
 804              		.loc 1 220 5 is_stmt 1 view .LVU202
 805              		.loc 1 220 22 is_stmt 0 view .LVU203
 806 0038 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 807 003a 00EE902A 		vmov	s1, r2	@ int
 221:Src/foc.c     ****     temp_duty.ccrc=U0.c;
 808              		.loc 1 221 5 is_stmt 1 view .LVU204
 809              		.loc 1 221 22 is_stmt 0 view .LVU205
 810 003e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 811 0040 01EE103A 		vmov	s2, r3	@ int
 222:Src/foc.c     ****     SVPWM_Step(temp_duty);    
 812              		.loc 1 222 5 is_stmt 1 view .LVU206
 813 0044 B8EE400A 		vcvt.f32.u32	s0, s0
 814 0048 F8EE600A 		vcvt.f32.u32	s1, s1
 815 004c B8EE411A 		vcvt.f32.u32	s2, s2
 816 0050 FFF7FEFF 		bl	SVPWM_Step
 817              	.LVL52:
 223:Src/foc.c     ****     uprintf("position:%f \r\n",Position_Degree);
 818              		.loc 1 223 5 view .LVU207
 819 0054 074B     		ldr	r3, .L41+8
 820 0056 1868     		ldr	r0, [r3]	@ float
 821 0058 FFF7FEFF 		bl	__aeabi_f2d
 822              	.LVL53:
 823 005c 0246     		mov	r2, r0
 824 005e 0B46     		mov	r3, r1
 825 0060 0548     		ldr	r0, .L41+12
 826 0062 FFF7FEFF 		bl	uprintf
 827              	.LVL54:
 224:Src/foc.c     **** }
 828              		.loc 1 224 1 is_stmt 0 view .LVU208
 829 0066 04B0     		add	sp, sp, #16
 830              	.LCFI20:
 831              		.cfi_def_cfa_offset 8
 832              		@ sp needed
 833 0068 10BD     		pop	{r4, pc}
 834              	.L42:
 835 006a 00BF     		.align	2
 836              	.L41:
 837 006c 00000000 		.word	.LANCHOR1
 838 0070 00000000 		.word	.LANCHOR8
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 20


 839 0074 00000000 		.word	Position_Degree
 840 0078 00000000 		.word	.LC0
 841              		.cfi_endproc
 842              	.LFE173:
 844              		.section	.text.SVPWM_Normal_CalT1T2,"ax",%progbits
 845              		.align	1
 846              		.global	SVPWM_Normal_CalT1T2
 847              		.syntax unified
 848              		.thumb
 849              		.thumb_func
 850              		.fpu fpv4-sp-d16
 852              	SVPWM_Normal_CalT1T2:
 853              	.LVL55:
 854              	.LFB175:
 225:Src/foc.c     **** 
 226:Src/foc.c     **** 
 227:Src/foc.c     **** extern uint8_t Init_OK;
 228:Src/foc.c     **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
 229:Src/foc.c     **** 
 230:Src/foc.c     ****     if(htim->Instance==TIM7){
 231:Src/foc.c     ****         if(!Init_OK){
 232:Src/foc.c     ****             return ;
 233:Src/foc.c     ****         }
 234:Src/foc.c     ****         Theta_Handler();
 235:Src/foc.c     ****     }
 236:Src/foc.c     **** }
 237:Src/foc.c     **** 
 238:Src/foc.c     **** 
 239:Src/foc.c     **** void SVPWM_Normal_CalT1T2(float alpha,float beta,uint8_t area,float *t1,float *t2){
 855              		.loc 1 239 83 is_stmt 1 view -0
 856              		.cfi_startproc
 857              		@ args = 0, pretend = 0, frame = 0
 858              		@ frame_needed = 0, uses_anonymous_args = 0
 859              		@ link register save eliminated.
 240:Src/foc.c     ****     float temp=0;
 860              		.loc 1 240 5 view .LVU210
 241:Src/foc.c     ****     switch(area){
 861              		.loc 1 241 5 view .LVU211
 862 0000 0138     		subs	r0, r0, #1
 863              	.LVL56:
 864              		.loc 1 241 5 is_stmt 0 view .LVU212
 865 0002 0528     		cmp	r0, #5
 866 0004 5BD8     		bhi	.L43
 867 0006 DFE800F0 		tbb	[pc, r0]
 868              	.L46:
 869 000a 03       		.byte	(.L51-.L46)/2
 870 000b 12       		.byte	(.L50-.L46)/2
 871 000c 1F       		.byte	(.L49-.L46)/2
 872 000d 30       		.byte	(.L48-.L46)/2
 873 000e 3F       		.byte	(.L47-.L46)/2
 874 000f 4C       		.byte	(.L45-.L46)/2
 875              		.p2align 1
 876              	.L51:
 242:Src/foc.c     ****         case 1:
 243:Src/foc.c     ****             *t1=alpha - 0.57735f*beta;
 877              		.loc 1 243 13 is_stmt 1 view .LVU213
 878              		.loc 1 243 33 is_stmt 0 view .LVU214
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 21


 879 0010 DFED2B7A 		vldr.32	s15, .L52
 880 0014 60EEA77A 		vmul.f32	s15, s1, s15
 881              		.loc 1 243 23 view .LVU215
 882 0018 30EE670A 		vsub.f32	s0, s0, s15
 883              	.LVL57:
 884              		.loc 1 243 16 view .LVU216
 885 001c 81ED000A 		vstr.32	s0, [r1]
 244:Src/foc.c     ****             *t2=1.1547f*beta;
 886              		.loc 1 244 13 is_stmt 1 view .LVU217
 887              		.loc 1 244 24 is_stmt 0 view .LVU218
 888 0020 DFED287A 		vldr.32	s15, .L52+4
 889 0024 60EEA70A 		vmul.f32	s1, s1, s15
 890              	.LVL58:
 891              		.loc 1 244 16 view .LVU219
 892 0028 C2ED000A 		vstr.32	s1, [r2]
 245:Src/foc.c     ****         break;
 893              		.loc 1 245 9 is_stmt 1 view .LVU220
 894 002c 7047     		bx	lr
 895              	.LVL59:
 896              	.L50:
 246:Src/foc.c     ****         case 2:
 247:Src/foc.c     ****             *t1=alpha + 0.57735f*beta;
 897              		.loc 1 247 13 view .LVU221
 898              		.loc 1 247 33 is_stmt 0 view .LVU222
 899 002e DFED247A 		vldr.32	s15, .L52
 900 0032 60EEA70A 		vmul.f32	s1, s1, s15
 901              	.LVL60:
 902              		.loc 1 247 23 view .LVU223
 903 0036 70EE807A 		vadd.f32	s15, s1, s0
 904              		.loc 1 247 16 view .LVU224
 905 003a C1ED007A 		vstr.32	s15, [r1]
 248:Src/foc.c     ****             *t2=0.57735f*beta - alpha;
 906              		.loc 1 248 13 is_stmt 1 view .LVU225
 907              		.loc 1 248 31 is_stmt 0 view .LVU226
 908 003e 70EEC00A 		vsub.f32	s1, s1, s0
 909              		.loc 1 248 16 view .LVU227
 910 0042 C2ED000A 		vstr.32	s1, [r2]
 249:Src/foc.c     ****             break;
 911              		.loc 1 249 13 is_stmt 1 view .LVU228
 912 0046 7047     		bx	lr
 913              	.LVL61:
 914              	.L49:
 250:Src/foc.c     ****         case 3:
 251:Src/foc.c     ****             *t1=1.1547f*beta;
 915              		.loc 1 251 13 view .LVU229
 916              		.loc 1 251 24 is_stmt 0 view .LVU230
 917 0048 DFED1E7A 		vldr.32	s15, .L52+4
 918 004c 60EEA77A 		vmul.f32	s15, s1, s15
 919              		.loc 1 251 16 view .LVU231
 920 0050 C1ED007A 		vstr.32	s15, [r1]
 252:Src/foc.c     ****             *t2=-alpha - 0.57735f*beta;
 921              		.loc 1 252 13 is_stmt 1 view .LVU232
 922              		.loc 1 252 17 is_stmt 0 view .LVU233
 923 0054 B1EE400A 		vneg.f32	s0, s0
 924              	.LVL62:
 925              		.loc 1 252 34 view .LVU234
 926 0058 DFED197A 		vldr.32	s15, .L52
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 22


 927 005c 60EEA70A 		vmul.f32	s1, s1, s15
 928              	.LVL63:
 929              		.loc 1 252 24 view .LVU235
 930 0060 70EE600A 		vsub.f32	s1, s0, s1
 931              		.loc 1 252 16 view .LVU236
 932 0064 C2ED000A 		vstr.32	s1, [r2]
 253:Src/foc.c     ****             break;
 933              		.loc 1 253 13 is_stmt 1 view .LVU237
 934 0068 7047     		bx	lr
 935              	.LVL64:
 936              	.L48:
 254:Src/foc.c     ****         case 4:
 255:Src/foc.c     ****             *t1=0.57735f*beta - alpha;
 937              		.loc 1 255 13 view .LVU238
 938              		.loc 1 255 25 is_stmt 0 view .LVU239
 939 006a DFED157A 		vldr.32	s15, .L52
 940 006e 60EEA77A 		vmul.f32	s15, s1, s15
 941              		.loc 1 255 31 view .LVU240
 942 0072 37EEC00A 		vsub.f32	s0, s15, s0
 943              	.LVL65:
 944              		.loc 1 255 16 view .LVU241
 945 0076 81ED000A 		vstr.32	s0, [r1]
 256:Src/foc.c     ****             *t2=- 1.1547f*beta;
 946              		.loc 1 256 13 is_stmt 1 view .LVU242
 947              		.loc 1 256 26 is_stmt 0 view .LVU243
 948 007a DFED137A 		vldr.32	s15, .L52+8
 949 007e 60EEA70A 		vmul.f32	s1, s1, s15
 950              	.LVL66:
 951              		.loc 1 256 16 view .LVU244
 952 0082 C2ED000A 		vstr.32	s1, [r2]
 257:Src/foc.c     ****             break;
 953              		.loc 1 257 13 is_stmt 1 view .LVU245
 954 0086 7047     		bx	lr
 955              	.LVL67:
 956              	.L47:
 258:Src/foc.c     ****         case 5:
 259:Src/foc.c     ****             temp=- 0.57735f*beta;
 957              		.loc 1 259 13 view .LVU246
 958              		.loc 1 259 17 is_stmt 0 view .LVU247
 959 0088 DFED107A 		vldr.32	s15, .L52+12
 960 008c 60EEA70A 		vmul.f32	s1, s1, s15
 961              	.LVL68:
 260:Src/foc.c     ****             *t1=temp-alpha;
 962              		.loc 1 260 13 is_stmt 1 view .LVU248
 963              		.loc 1 260 21 is_stmt 0 view .LVU249
 964 0090 70EEC07A 		vsub.f32	s15, s1, s0
 965              		.loc 1 260 16 view .LVU250
 966 0094 C1ED007A 		vstr.32	s15, [r1]
 261:Src/foc.c     ****             *t2=temp+alpha;
 967              		.loc 1 261 13 is_stmt 1 view .LVU251
 968              		.loc 1 261 21 is_stmt 0 view .LVU252
 969 0098 70EE200A 		vadd.f32	s1, s0, s1
 970              	.LVL69:
 971              		.loc 1 261 16 view .LVU253
 972 009c C2ED000A 		vstr.32	s1, [r2]
 262:Src/foc.c     ****             break;
 973              		.loc 1 262 13 is_stmt 1 view .LVU254
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 23


 974 00a0 7047     		bx	lr
 975              	.LVL70:
 976              	.L45:
 263:Src/foc.c     ****         case 6:
 264:Src/foc.c     ****             *t1=-1.1547f*beta;
 977              		.loc 1 264 13 view .LVU255
 978              		.loc 1 264 25 is_stmt 0 view .LVU256
 979 00a2 DFED097A 		vldr.32	s15, .L52+8
 980 00a6 60EEA77A 		vmul.f32	s15, s1, s15
 981              		.loc 1 264 16 view .LVU257
 982 00aa C1ED007A 		vstr.32	s15, [r1]
 265:Src/foc.c     ****             *t2=alpha + 0.57735f*beta;
 983              		.loc 1 265 13 is_stmt 1 view .LVU258
 984              		.loc 1 265 33 is_stmt 0 view .LVU259
 985 00ae DFED047A 		vldr.32	s15, .L52
 986 00b2 60EEA77A 		vmul.f32	s15, s1, s15
 987              		.loc 1 265 23 view .LVU260
 988 00b6 77EE800A 		vadd.f32	s1, s15, s0
 989              	.LVL71:
 990              		.loc 1 265 16 view .LVU261
 991 00ba C2ED000A 		vstr.32	s1, [r2]
 266:Src/foc.c     ****             break;
 992              		.loc 1 266 13 is_stmt 1 view .LVU262
 993              	.L43:
 267:Src/foc.c     ****     }
 268:Src/foc.c     **** }
 994              		.loc 1 268 1 is_stmt 0 view .LVU263
 995 00be 7047     		bx	lr
 996              	.L53:
 997              		.align	2
 998              	.L52:
 999 00c0 36CD133F 		.word	1058262326
 1000 00c4 36CD933F 		.word	1066650934
 1001 00c8 36CD93BF 		.word	-1080832714
 1002 00cc 36CD13BF 		.word	-1089221322
 1003              		.cfi_endproc
 1004              	.LFE175:
 1006              		.section	.text.SVPWM,"ax",%progbits
 1007              		.align	1
 1008              		.syntax unified
 1009              		.thumb
 1010              		.thumb_func
 1011              		.fpu fpv4-sp-d16
 1013              	SVPWM:
 1014              	.LVL72:
 1015              	.LFB180:
 269:Src/foc.c     **** 
 270:Src/foc.c     **** 
 271:Src/foc.c     **** //#define dealtK PAIRS*360.0f/TIM7_FREQ
 272:Src/foc.c     **** #define dealtK 360.0f/TIM7_FREQ
 273:Src/foc.c     **** void Theta_Handler(){
 274:Src/foc.c     ****     Uvect_Mos u1,u2;
 275:Src/foc.c     ****     float t1,t2;
 276:Src/foc.c     ****     float x,y;
 277:Src/foc.c     ****     float dealt=RPS*dealtK;
 278:Src/foc.c     **** 
 279:Src/foc.c     ****     Position_Degree=Get_Position_Rad_Dgree(1);
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 24


 280:Src/foc.c     ****     switch(Board_Mode){
 281:Src/foc.c     ****         case SENSOR_FOC:
 282:Src/foc.c     ****             Foc();
 283:Src/foc.c     ****             break;
 284:Src/foc.c     ****         case VF_OPENLOOP:
 285:Src/foc.c     ****             VF_Openloop_Control(1,1000,1,1);
 286:Src/foc.c     ****             break;
 287:Src/foc.c     ****         case TEST_DIRECTION:
 288:Src/foc.c     ****             Test_Direction();
 289:Src/foc.c     ****             break;
 290:Src/foc.c     ****         case WAIT:
 291:Src/foc.c     ****             SVPWM(0,0);
 292:Src/foc.c     ****             break;
 293:Src/foc.c     ****         default:
 294:Src/foc.c     ****         break;
 295:Src/foc.c     **** 
 296:Src/foc.c     ****     }
 297:Src/foc.c     **** }
 298:Src/foc.c     **** 
 299:Src/foc.c     **** #define ADC_RAW2_CURRENT(raw) raw*3300.0f/4096/200/0.003f
 300:Src/foc.c     **** 
 301:Src/foc.c     **** void Park_Conv(float ia,float ib,float * ialpha,float *ibeta){
 302:Src/foc.c     ****     *ialpha=ia;
 303:Src/foc.c     ****     *ibeta=(sqrtf(3)*ib+sqrtf(3)*(ib+ia))/3.0f;
 304:Src/foc.c     **** }
 305:Src/foc.c     **** 
 306:Src/foc.c     ****  void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef* hadc){
 307:Src/foc.c     ****      float ia,ib;
 308:Src/foc.c     **** 
 309:Src/foc.c     ****      if(hadc->Instance==ADC1){
 310:Src/foc.c     **** 
 311:Src/foc.c     ****      }else if(hadc->Instance==ADC2){
 312:Src/foc.c     ****         ia=ADC_RAW2_CURRENT(ADC_Values_Raw2[0]);
 313:Src/foc.c     ****         ib=ADC_RAW2_CURRENT(ADC_Values_Raw2[1]);
 314:Src/foc.c     ****         Park_Conv(ia,ib,&Ialpha,&Ibeta);
 315:Src/foc.c     ****      }
 316:Src/foc.c     ****  }
 317:Src/foc.c     **** 
 318:Src/foc.c     ****  void Foc(){
 319:Src/foc.c     ****     Uvect_Mos u1,u2;
 320:Src/foc.c     ****     float t1,t2;
 321:Src/foc.c     ****     float x,y;
 322:Src/foc.c     **** 
 323:Src/foc.c     ****     float electric_position=(-1*Position_Degree+360);
 324:Src/foc.c     ****     float electric_position_offset=(-1*Position_Offset+360);
 325:Src/foc.c     ****     //float electric_position=Position_Degree;
 326:Src/foc.c     ****     //float electric_position_offset=Position_Offset;
 327:Src/foc.c     ****      int32_t sub=(int32_t)(electric_position-electric_position_offset);
 328:Src/foc.c     ****      
 329:Src/foc.c     ****     if(sub<0){
 330:Src/foc.c     ****         sub+=360;
 331:Src/foc.c     ****     }
 332:Src/foc.c     ****     sub*=Motor.pairs;
 333:Src/foc.c     ****     sub+=90;
 334:Src/foc.c     **** 
 335:Src/foc.c     ****     sub%=360;
 336:Src/foc.c     **** 
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 25


 337:Src/foc.c     ****     SVPWM(sub,1);
 338:Src/foc.c     ****  }
 339:Src/foc.c     **** 
 340:Src/foc.c     **** // Target_U ÊúüÊúõÁîµÂéãÁü¢ÈáèÁöÑËßíÂ∫¶ Âçï‰Ωç¬∞ 0-360
 341:Src/foc.c     **** // duty ÊúüÊúõÂç†Á©∫ÊØî 0-1
 342:Src/foc.c     **** static void SVPWM(float Target_U,float duty){
 1016              		.loc 1 342 45 is_stmt 1 view -0
 1017              		.cfi_startproc
 1018              		@ args = 0, pretend = 0, frame = 48
 1019              		@ frame_needed = 0, uses_anonymous_args = 0
 1020              		.loc 1 342 45 is_stmt 0 view .LVU265
 1021 0000 70B5     		push	{r4, r5, r6, lr}
 1022              	.LCFI21:
 1023              		.cfi_def_cfa_offset 16
 1024              		.cfi_offset 4, -16
 1025              		.cfi_offset 5, -12
 1026              		.cfi_offset 6, -8
 1027              		.cfi_offset 14, -4
 1028 0002 2DED028B 		vpush.64	{d8}
 1029              	.LCFI22:
 1030              		.cfi_def_cfa_offset 24
 1031              		.cfi_offset 80, -24
 1032              		.cfi_offset 81, -20
 1033 0006 90B0     		sub	sp, sp, #64
 1034              	.LCFI23:
 1035              		.cfi_def_cfa_offset 88
 1036 0008 F0EE408A 		vmov.f32	s17, s0
 1037 000c B0EE608A 		vmov.f32	s16, s1
 343:Src/foc.c     ****     Uvect_Mos u1,u2;
 1038              		.loc 1 343 5 is_stmt 1 view .LVU266
 344:Src/foc.c     ****     float x,y;
 1039              		.loc 1 344 5 view .LVU267
 345:Src/foc.c     ****     float t1,t2;
 1040              		.loc 1 345 5 view .LVU268
 346:Src/foc.c     ****     static CCR_Duty CCR_Dutys={0};
 1041              		.loc 1 346 5 view .LVU269
 347:Src/foc.c     **** 
 348:Src/foc.c     ****     uint8_t area=get_area(Target_U);
 1042              		.loc 1 348 5 view .LVU270
 1043              		.loc 1 348 18 is_stmt 0 view .LVU271
 1044 0010 FCEEC07A 		vcvt.u32.f32	s15, s0
 1045 0014 17EE900A 		vmov	r0, s15	@ int
 1046 0018 FFF7FEFF 		bl	get_area
 1047              	.LVL73:
 1048              		.loc 1 348 18 view .LVU272
 1049 001c 0646     		mov	r6, r0
 1050              	.LVL74:
 349:Src/foc.c     ****     get_area_u(area,&u1,&u2);
 1051              		.loc 1 349 5 is_stmt 1 view .LVU273
 1052 001e 08AD     		add	r5, sp, #32
 1053 0020 0CAC     		add	r4, sp, #48
 1054 0022 2A46     		mov	r2, r5
 1055 0024 2146     		mov	r1, r4
 1056 0026 FFF7FEFF 		bl	get_area_u
 1057              	.LVL75:
 350:Src/foc.c     ****     arm_sin_cos_f32(Target_U,&y,&x);
 1058              		.loc 1 350 5 view .LVU274
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 26


 1059 002a 07A9     		add	r1, sp, #28
 1060 002c 06A8     		add	r0, sp, #24
 1061 002e B0EE680A 		vmov.f32	s0, s17
 1062 0032 FFF7FEFF 		bl	arm_sin_cos_f32
 1063              	.LVL76:
 351:Src/foc.c     ****     x*=0.86f*duty;
 1064              		.loc 1 351 5 view .LVU275
 1065              		.loc 1 351 13 is_stmt 0 view .LVU276
 1066 0036 DFED170A 		vldr.32	s1, .L56
 1067 003a 68EE200A 		vmul.f32	s1, s16, s1
 1068              		.loc 1 351 6 view .LVU277
 1069 003e 9DED070A 		vldr.32	s0, [sp, #28]
 1070 0042 20EE800A 		vmul.f32	s0, s1, s0
 1071 0046 8DED070A 		vstr.32	s0, [sp, #28]
 352:Src/foc.c     ****     y*=0.86f*duty;   // sqrt(3)/2 Ê≤°Èîô
 1072              		.loc 1 352 5 is_stmt 1 view .LVU278
 1073              		.loc 1 352 6 is_stmt 0 view .LVU279
 1074 004a DDED067A 		vldr.32	s15, [sp, #24]
 1075 004e 60EEA70A 		vmul.f32	s1, s1, s15
 1076 0052 CDED060A 		vstr.32	s1, [sp, #24]
 353:Src/foc.c     ****     SVPWM_Normal_CalT1T2(x,y,area,&t1,&t2);
 1077              		.loc 1 353 5 is_stmt 1 view .LVU280
 1078 0056 04AA     		add	r2, sp, #16
 1079 0058 05A9     		add	r1, sp, #20
 1080 005a 3046     		mov	r0, r6
 1081 005c FFF7FEFF 		bl	SVPWM_Normal_CalT1T2
 1082              	.LVL77:
 354:Src/foc.c     ****     CCR_Dutys=get_ccr_duty(t1,t2,u1,u2);
 1083              		.loc 1 354 5 view .LVU281
 1084              		.loc 1 354 15 is_stmt 0 view .LVU282
 1085 0060 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 1086 0064 8DE80F00 		stm	sp, {r0, r1, r2, r3}
 1087 0068 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 1088 006c DDED040A 		vldr.32	s1, [sp, #16]
 1089 0070 9DED050A 		vldr.32	s0, [sp, #20]
 1090 0074 FFF7FEFF 		bl	get_ccr_duty
 1091              	.LVL78:
 1092 0078 074B     		ldr	r3, .L56+4
 1093 007a 83ED000A 		vstr.32	s0, [r3]
 1094 007e C3ED010A 		vstr.32	s1, [r3, #4]
 1095 0082 83ED021A 		vstr.32	s2, [r3, #8]
 355:Src/foc.c     ****     SVPWM_Step(CCR_Dutys);    
 1096              		.loc 1 355 5 is_stmt 1 view .LVU283
 1097 0086 FFF7FEFF 		bl	SVPWM_Step
 1098              	.LVL79:
 356:Src/foc.c     **** }
 1099              		.loc 1 356 1 is_stmt 0 view .LVU284
 1100 008a 10B0     		add	sp, sp, #64
 1101              	.LCFI24:
 1102              		.cfi_def_cfa_offset 24
 1103              		@ sp needed
 1104 008c BDEC028B 		vldm	sp!, {d8}
 1105              	.LCFI25:
 1106              		.cfi_restore 80
 1107              		.cfi_restore 81
 1108              		.cfi_def_cfa_offset 16
 1109              	.LVL80:
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 27


 1110              		.loc 1 356 1 view .LVU285
 1111 0090 70BD     		pop	{r4, r5, r6, pc}
 1112              	.LVL81:
 1113              	.L57:
 1114              		.loc 1 356 1 view .LVU286
 1115 0092 00BF     		.align	2
 1116              	.L56:
 1117 0094 F6285C3F 		.word	1063004406
 1118 0098 00000000 		.word	.LANCHOR9
 1119              		.cfi_endproc
 1120              	.LFE180:
 1122              		.section	.text.Park_Conv,"ax",%progbits
 1123              		.align	1
 1124              		.global	Park_Conv
 1125              		.syntax unified
 1126              		.thumb
 1127              		.thumb_func
 1128              		.fpu fpv4-sp-d16
 1130              	Park_Conv:
 1131              	.LVL82:
 1132              	.LFB177:
 301:Src/foc.c     ****     *ialpha=ia;
 1133              		.loc 1 301 62 is_stmt 1 view -0
 1134              		.cfi_startproc
 1135              		@ args = 0, pretend = 0, frame = 0
 1136              		@ frame_needed = 0, uses_anonymous_args = 0
 1137              		@ link register save eliminated.
 302:Src/foc.c     ****     *ibeta=(sqrtf(3)*ib+sqrtf(3)*(ib+ia))/3.0f;
 1138              		.loc 1 302 5 view .LVU288
 302:Src/foc.c     ****     *ibeta=(sqrtf(3)*ib+sqrtf(3)*(ib+ia))/3.0f;
 1139              		.loc 1 302 12 is_stmt 0 view .LVU289
 1140 0000 80ED000A 		vstr.32	s0, [r0]
 303:Src/foc.c     **** }
 1141              		.loc 1 303 5 is_stmt 1 view .LVU290
 303:Src/foc.c     **** }
 1142              		.loc 1 303 21 is_stmt 0 view .LVU291
 1143 0004 9FED087A 		vldr.32	s14, .L59
 1144 0008 60EE877A 		vmul.f32	s15, s1, s14
 303:Src/foc.c     **** }
 1145              		.loc 1 303 37 view .LVU292
 1146 000c 30EE200A 		vadd.f32	s0, s0, s1
 1147              	.LVL83:
 303:Src/foc.c     **** }
 1148              		.loc 1 303 33 view .LVU293
 1149 0010 20EE070A 		vmul.f32	s0, s0, s14
 303:Src/foc.c     **** }
 1150              		.loc 1 303 24 view .LVU294
 1151 0014 37EE800A 		vadd.f32	s0, s15, s0
 303:Src/foc.c     **** }
 1152              		.loc 1 303 42 view .LVU295
 1153 0018 B0EE087A 		vmov.f32	s14, #3.0e+0
 1154 001c C0EE077A 		vdiv.f32	s15, s0, s14
 303:Src/foc.c     **** }
 1155              		.loc 1 303 11 view .LVU296
 1156 0020 C1ED007A 		vstr.32	s15, [r1]
 1157              	.LVL84:
 304:Src/foc.c     **** 
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 28


 1158              		.loc 1 304 1 view .LVU297
 1159 0024 7047     		bx	lr
 1160              	.L60:
 1161 0026 00BF     		.align	2
 1162              	.L59:
 1163 0028 D7B3DD3F 		.word	1071494103
 1164              		.cfi_endproc
 1165              	.LFE177:
 1167              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 1168              		.align	1
 1169              		.global	HAL_ADC_ConvCpltCallback
 1170              		.syntax unified
 1171              		.thumb
 1172              		.thumb_func
 1173              		.fpu fpv4-sp-d16
 1175              	HAL_ADC_ConvCpltCallback:
 1176              	.LVL85:
 1177              	.LFB178:
 306:Src/foc.c     ****      float ia,ib;
 1178              		.loc 1 306 56 is_stmt 1 view -0
 1179              		.cfi_startproc
 1180              		@ args = 0, pretend = 0, frame = 0
 1181              		@ frame_needed = 0, uses_anonymous_args = 0
 306:Src/foc.c     ****      float ia,ib;
 1182              		.loc 1 306 56 is_stmt 0 view .LVU299
 1183 0000 08B5     		push	{r3, lr}
 1184              	.LCFI26:
 1185              		.cfi_def_cfa_offset 8
 1186              		.cfi_offset 3, -8
 1187              		.cfi_offset 14, -4
 307:Src/foc.c     **** 
 1188              		.loc 1 307 6 is_stmt 1 view .LVU300
 309:Src/foc.c     **** 
 1189              		.loc 1 309 6 view .LVU301
 309:Src/foc.c     **** 
 1190              		.loc 1 309 13 is_stmt 0 view .LVU302
 1191 0002 0368     		ldr	r3, [r0]
 309:Src/foc.c     **** 
 1192              		.loc 1 309 8 view .LVU303
 1193 0004 174A     		ldr	r2, .L65
 1194 0006 9342     		cmp	r3, r2
 1195 0008 03D0     		beq	.L61
 311:Src/foc.c     ****         ia=ADC_RAW2_CURRENT(ADC_Values_Raw2[0]);
 1196              		.loc 1 311 12 is_stmt 1 view .LVU304
 311:Src/foc.c     ****         ia=ADC_RAW2_CURRENT(ADC_Values_Raw2[0]);
 1197              		.loc 1 311 14 is_stmt 0 view .LVU305
 1198 000a 02F58072 		add	r2, r2, #256
 1199 000e 9342     		cmp	r3, r2
 1200 0010 00D0     		beq	.L64
 1201              	.LVL86:
 1202              	.L61:
 316:Src/foc.c     **** 
 1203              		.loc 1 316 2 view .LVU306
 1204 0012 08BD     		pop	{r3, pc}
 1205              	.LVL87:
 1206              	.L64:
 312:Src/foc.c     ****         ib=ADC_RAW2_CURRENT(ADC_Values_Raw2[1]);
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 29


 1207              		.loc 1 312 9 is_stmt 1 view .LVU307
 312:Src/foc.c     ****         ib=ADC_RAW2_CURRENT(ADC_Values_Raw2[1]);
 1208              		.loc 1 312 12 is_stmt 0 view .LVU308
 1209 0014 144B     		ldr	r3, .L65+4
 1210 0016 1A88     		ldrh	r2, [r3]
 1211 0018 07EE102A 		vmov	s14, r2	@ int
 1212 001c B8EEC77A 		vcvt.f32.s32	s14, s14
 1213 0020 DFED125A 		vldr.32	s11, .L65+8
 1214 0024 27EE257A 		vmul.f32	s14, s14, s11
 1215 0028 9FED116A 		vldr.32	s12, .L65+12
 1216 002c 27EE067A 		vmul.f32	s14, s14, s12
 1217 0030 DFED106A 		vldr.32	s13, .L65+16
 1218 0034 87EE260A 		vdiv.f32	s0, s14, s13
 312:Src/foc.c     ****         ib=ADC_RAW2_CURRENT(ADC_Values_Raw2[1]);
 1219              		.loc 1 312 11 view .LVU309
 1220 0038 9FED0F7A 		vldr.32	s14, .L65+20
 1221              	.LVL88:
 313:Src/foc.c     ****         Park_Conv(ia,ib,&Ialpha,&Ibeta);
 1222              		.loc 1 313 9 is_stmt 1 view .LVU310
 313:Src/foc.c     ****         Park_Conv(ia,ib,&Ialpha,&Ibeta);
 1223              		.loc 1 313 12 is_stmt 0 view .LVU311
 1224 003c 5B88     		ldrh	r3, [r3, #2]
 1225 003e 07EE903A 		vmov	s15, r3	@ int
 1226 0042 F8EEE77A 		vcvt.f32.s32	s15, s15
 1227 0046 67EEA57A 		vmul.f32	s15, s15, s11
 1228 004a 67EE867A 		vmul.f32	s15, s15, s12
 1229 004e C7EEA60A 		vdiv.f32	s1, s15, s13
 1230              	.LVL89:
 314:Src/foc.c     ****      }
 1231              		.loc 1 314 9 is_stmt 1 view .LVU312
 1232 0052 0A49     		ldr	r1, .L65+24
 1233 0054 0A48     		ldr	r0, .L65+28
 1234              	.LVL90:
 314:Src/foc.c     ****      }
 1235              		.loc 1 314 9 is_stmt 0 view .LVU313
 1236 0056 C0EE870A 		vdiv.f32	s1, s1, s14
 1237              	.LVL91:
 314:Src/foc.c     ****      }
 1238              		.loc 1 314 9 view .LVU314
 1239 005a 80EE070A 		vdiv.f32	s0, s0, s14
 1240              	.LVL92:
 314:Src/foc.c     ****      }
 1241              		.loc 1 314 9 view .LVU315
 1242 005e FFF7FEFF 		bl	Park_Conv
 1243              	.LVL93:
 316:Src/foc.c     **** 
 1244              		.loc 1 316 2 view .LVU316
 1245 0062 D6E7     		b	.L61
 1246              	.L66:
 1247              		.align	2
 1248              	.L65:
 1249 0064 00200140 		.word	1073815552
 1250 0068 00000000 		.word	ADC_Values_Raw2
 1251 006c 00404E45 		.word	1162756096
 1252 0070 00008039 		.word	964689920
 1253 0074 00004843 		.word	1128792064
 1254 0078 A69B443B 		.word	994352038
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 30


 1255 007c 00000000 		.word	Ibeta
 1256 0080 00000000 		.word	Ialpha
 1257              		.cfi_endproc
 1258              	.LFE178:
 1260              		.section	.text.Foc,"ax",%progbits
 1261              		.align	1
 1262              		.global	Foc
 1263              		.syntax unified
 1264              		.thumb
 1265              		.thumb_func
 1266              		.fpu fpv4-sp-d16
 1268              	Foc:
 1269              	.LFB179:
 318:Src/foc.c     ****     Uvect_Mos u1,u2;
 1270              		.loc 1 318 12 is_stmt 1 view -0
 1271              		.cfi_startproc
 1272              		@ args = 0, pretend = 0, frame = 0
 1273              		@ frame_needed = 0, uses_anonymous_args = 0
 1274 0000 08B5     		push	{r3, lr}
 1275              	.LCFI27:
 1276              		.cfi_def_cfa_offset 8
 1277              		.cfi_offset 3, -8
 1278              		.cfi_offset 14, -4
 319:Src/foc.c     ****     float t1,t2;
 1279              		.loc 1 319 5 view .LVU318
 320:Src/foc.c     ****     float x,y;
 1280              		.loc 1 320 5 view .LVU319
 321:Src/foc.c     **** 
 1281              		.loc 1 321 5 view .LVU320
 323:Src/foc.c     ****     float electric_position_offset=(-1*Position_Offset+360);
 1282              		.loc 1 323 5 view .LVU321
 323:Src/foc.c     ****     float electric_position_offset=(-1*Position_Offset+360);
 1283              		.loc 1 323 48 is_stmt 0 view .LVU322
 1284 0002 184B     		ldr	r3, .L71
 1285 0004 D3ED007A 		vldr.32	s15, [r3]
 323:Src/foc.c     ****     float electric_position_offset=(-1*Position_Offset+360);
 1286              		.loc 1 323 11 view .LVU323
 1287 0008 9FED177A 		vldr.32	s14, .L71+4
 1288 000c 77EE677A 		vsub.f32	s15, s14, s15
 1289              	.LVL94:
 324:Src/foc.c     ****     //float electric_position=Position_Degree;
 1290              		.loc 1 324 5 is_stmt 1 view .LVU324
 324:Src/foc.c     ****     //float electric_position=Position_Degree;
 1291              		.loc 1 324 55 is_stmt 0 view .LVU325
 1292 0010 164B     		ldr	r3, .L71+8
 1293 0012 D3ED006A 		vldr.32	s13, [r3]
 324:Src/foc.c     ****     //float electric_position=Position_Degree;
 1294              		.loc 1 324 11 view .LVU326
 1295 0016 37EE667A 		vsub.f32	s14, s14, s13
 1296              	.LVL95:
 327:Src/foc.c     ****      
 1297              		.loc 1 327 6 is_stmt 1 view .LVU327
 327:Src/foc.c     ****      
 1298              		.loc 1 327 45 is_stmt 0 view .LVU328
 1299 001a 77EEC77A 		vsub.f32	s15, s15, s14
 1300              	.LVL96:
 327:Src/foc.c     ****      
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 31


 1301              		.loc 1 327 14 view .LVU329
 1302 001e FDEEE77A 		vcvt.s32.f32	s15, s15
 1303 0022 17EE903A 		vmov	r3, s15	@ int
 1304              	.LVL97:
 329:Src/foc.c     ****         sub+=360;
 1305              		.loc 1 329 5 is_stmt 1 view .LVU330
 329:Src/foc.c     ****         sub+=360;
 1306              		.loc 1 329 7 is_stmt 0 view .LVU331
 1307 0026 002B     		cmp	r3, #0
 1308 0028 18DB     		blt	.L70
 1309              	.L68:
 332:Src/foc.c     ****     sub+=90;
 1310              		.loc 1 332 5 is_stmt 1 view .LVU332
 332:Src/foc.c     ****     sub+=90;
 1311              		.loc 1 332 15 is_stmt 0 view .LVU333
 1312 002a 114A     		ldr	r2, .L71+12
 1313 002c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 332:Src/foc.c     ****     sub+=90;
 1314              		.loc 1 332 8 view .LVU334
 1315 002e 03FB02F3 		mul	r3, r3, r2
 1316              	.LVL98:
 333:Src/foc.c     **** 
 1317              		.loc 1 333 5 is_stmt 1 view .LVU335
 333:Src/foc.c     **** 
 1318              		.loc 1 333 8 is_stmt 0 view .LVU336
 1319 0032 5A33     		adds	r3, r3, #90
 1320              	.LVL99:
 335:Src/foc.c     **** 
 1321              		.loc 1 335 5 is_stmt 1 view .LVU337
 335:Src/foc.c     **** 
 1322              		.loc 1 335 8 is_stmt 0 view .LVU338
 1323 0034 0F4A     		ldr	r2, .L71+16
 1324 0036 82FB0312 		smull	r1, r2, r2, r3
 1325 003a D118     		adds	r1, r2, r3
 1326 003c DA17     		asrs	r2, r3, #31
 1327 003e C2EB2122 		rsb	r2, r2, r1, asr #8
 1328 0042 4FF4B471 		mov	r1, #360
 1329 0046 01FB1232 		mls	r2, r1, r2, r3
 1330              	.LVL100:
 337:Src/foc.c     ****  }
 1331              		.loc 1 337 5 is_stmt 1 view .LVU339
 1332 004a F7EE000A 		vmov.f32	s1, #1.0e+0
 1333 004e 07EE902A 		vmov	s15, r2	@ int
 1334 0052 B8EEE70A 		vcvt.f32.s32	s0, s15
 1335 0056 FFF7FEFF 		bl	SVPWM
 1336              	.LVL101:
 338:Src/foc.c     **** 
 1337              		.loc 1 338 2 is_stmt 0 view .LVU340
 1338 005a 08BD     		pop	{r3, pc}
 1339              	.LVL102:
 1340              	.L70:
 330:Src/foc.c     ****     }
 1341              		.loc 1 330 9 is_stmt 1 view .LVU341
 330:Src/foc.c     ****     }
 1342              		.loc 1 330 12 is_stmt 0 view .LVU342
 1343 005c 03F5B473 		add	r3, r3, #360
 1344              	.LVL103:
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 32


 330:Src/foc.c     ****     }
 1345              		.loc 1 330 12 view .LVU343
 1346 0060 E3E7     		b	.L68
 1347              	.L72:
 1348 0062 00BF     		.align	2
 1349              	.L71:
 1350 0064 00000000 		.word	Position_Degree
 1351 0068 0000B443 		.word	1135869952
 1352 006c 00000000 		.word	.LANCHOR10
 1353 0070 00000000 		.word	.LANCHOR11
 1354 0074 B7600BB6 		.word	-1240768329
 1355              		.cfi_endproc
 1356              	.LFE179:
 1358              		.section	.text.VF_Openloop_Control,"ax",%progbits
 1359              		.align	1
 1360              		.global	VF_Openloop_Control
 1361              		.syntax unified
 1362              		.thumb
 1363              		.thumb_func
 1364              		.fpu fpv4-sp-d16
 1366              	VF_Openloop_Control:
 1367              	.LVL104:
 1368              	.LFB181:
 357:Src/foc.c     **** 
 358:Src/foc.c     **** 
 359:Src/foc.c     **** void VF_Openloop_Control(float duty,float freq,int8_t direction,float rps){
 1369              		.loc 1 359 75 is_stmt 1 view -0
 1370              		.cfi_startproc
 1371              		@ args = 0, pretend = 0, frame = 0
 1372              		@ frame_needed = 0, uses_anonymous_args = 0
 1373              		.loc 1 359 75 is_stmt 0 view .LVU345
 1374 0000 08B5     		push	{r3, lr}
 1375              	.LCFI28:
 1376              		.cfi_def_cfa_offset 8
 1377              		.cfi_offset 3, -8
 1378              		.cfi_offset 14, -4
 1379 0002 07EE100A 		vmov	s14, r0	@ int
 360:Src/foc.c     ****     static float theta=0;
 1380              		.loc 1 360 5 is_stmt 1 view .LVU346
 361:Src/foc.c     ****     float delta_p=rps*Motor.pairs*360.0f/freq;   // ÊØèÊ¨°Ë∞ÉÁî®Êú¨ÂáΩÊï∞Ë¶ÅÂ¢ûÂä†ÁöÑÂÄº
 1381              		.loc 1 361 5 view .LVU347
 1382              		.loc 1 361 28 is_stmt 0 view .LVU348
 1383 0006 1B4B     		ldr	r3, .L82
 1384 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1385 000a 07EE903A 		vmov	s15, r3	@ int
 1386              		.loc 1 361 22 view .LVU349
 1387 000e F8EEE77A 		vcvt.f32.s32	s15, s15
 1388 0012 27EE811A 		vmul.f32	s2, s15, s2
 1389              	.LVL105:
 1390              		.loc 1 361 34 view .LVU350
 1391 0016 DFED186A 		vldr.32	s13, .L82+4
 1392 001a 21EE261A 		vmul.f32	s2, s2, s13
 1393              		.loc 1 361 11 view .LVU351
 1394 001e 81EE206A 		vdiv.f32	s12, s2, s1
 1395              	.LVL106:
 362:Src/foc.c     **** 
 363:Src/foc.c     ****     theta+=direction*delta_p;
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 33


 1396              		.loc 1 363 5 is_stmt 1 view .LVU352
 1397              		.loc 1 363 21 is_stmt 0 view .LVU353
 1398 0022 F8EEC77A 		vcvt.f32.s32	s15, s14
 1399 0026 67EE867A 		vmul.f32	s15, s15, s12
 1400              		.loc 1 363 10 view .LVU354
 1401 002a 144B     		ldr	r3, .L82+8
 1402 002c 93ED007A 		vldr.32	s14, [r3]
 1403 0030 77EE877A 		vadd.f32	s15, s15, s14
 1404 0034 C3ED007A 		vstr.32	s15, [r3]
 364:Src/foc.c     ****     if(theta>360){
 1405              		.loc 1 364 5 is_stmt 1 view .LVU355
 1406              		.loc 1 364 7 is_stmt 0 view .LVU356
 1407 0038 F4EEE67A 		vcmpe.f32	s15, s13
 1408 003c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1409 0040 0BDD     		ble	.L80
 365:Src/foc.c     ****         theta-=360;
 1410              		.loc 1 365 9 is_stmt 1 view .LVU357
 1411              		.loc 1 365 14 is_stmt 0 view .LVU358
 1412 0042 77EEE67A 		vsub.f32	s15, s15, s13
 1413 0046 C3ED007A 		vstr.32	s15, [r3]
 1414              	.L76:
 366:Src/foc.c     ****     }else if(theta<0){
 367:Src/foc.c     ****         theta+=360;
 368:Src/foc.c     ****     }
 369:Src/foc.c     ****     SVPWM(theta,duty);
 1415              		.loc 1 369 5 is_stmt 1 view .LVU359
 1416 004a F0EE400A 		vmov.f32	s1, s0
 1417              	.LVL107:
 1418              		.loc 1 369 5 is_stmt 0 view .LVU360
 1419 004e 0B4B     		ldr	r3, .L82+8
 1420 0050 93ED000A 		vldr.32	s0, [r3]
 1421              	.LVL108:
 1422              		.loc 1 369 5 view .LVU361
 1423 0054 FFF7FEFF 		bl	SVPWM
 1424              	.LVL109:
 370:Src/foc.c     **** }
 1425              		.loc 1 370 1 view .LVU362
 1426 0058 08BD     		pop	{r3, pc}
 1427              	.LVL110:
 1428              	.L80:
 366:Src/foc.c     ****     }else if(theta<0){
 1429              		.loc 1 366 11 is_stmt 1 view .LVU363
 366:Src/foc.c     ****     }else if(theta<0){
 1430              		.loc 1 366 13 is_stmt 0 view .LVU364
 1431 005a F5EEC07A 		vcmpe.f32	s15, #0
 1432 005e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1433 0062 F2D5     		bpl	.L76
 367:Src/foc.c     ****     }
 1434              		.loc 1 367 9 is_stmt 1 view .LVU365
 367:Src/foc.c     ****     }
 1435              		.loc 1 367 14 is_stmt 0 view .LVU366
 1436 0064 9FED047A 		vldr.32	s14, .L82+4
 1437 0068 77EE877A 		vadd.f32	s15, s15, s14
 1438 006c 034B     		ldr	r3, .L82+8
 1439 006e C3ED007A 		vstr.32	s15, [r3]
 1440 0072 EAE7     		b	.L76
 1441              	.L83:
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 34


 1442              		.align	2
 1443              	.L82:
 1444 0074 00000000 		.word	.LANCHOR11
 1445 0078 0000B443 		.word	1135869952
 1446 007c 00000000 		.word	.LANCHOR12
 1447              		.cfi_endproc
 1448              	.LFE181:
 1450              		.section	.rodata.Test_Direction.str1.4,"aMS",%progbits,1
 1451              		.align	2
 1452              	.LC1:
 1453 0000 64697265 		.ascii	"direction result:%d\015\012\000"
 1453      6374696F 
 1453      6E207265 
 1453      73756C74 
 1453      3A25640D 
 1454 0016 0000     		.align	2
 1455              	.LC2:
 1456 0018 74686520 		.ascii	"the direction of the motor is postive!\015\012\000"
 1456      64697265 
 1456      6374696F 
 1456      6E206F66 
 1456      20746865 
 1457 0041 000000   		.align	2
 1458              	.LC3:
 1459 0044 74686520 		.ascii	"the direction of the motor is nagative!\015\012\000"
 1459      64697265 
 1459      6374696F 
 1459      6E206F66 
 1459      20746865 
 1460              		.section	.text.Test_Direction,"ax",%progbits
 1461              		.align	1
 1462              		.syntax unified
 1463              		.thumb
 1464              		.thumb_func
 1465              		.fpu fpv4-sp-d16
 1467              	Test_Direction:
 1468              	.LFB182:
 371:Src/foc.c     **** 
 372:Src/foc.c     **** 
 373:Src/foc.c     **** static void Test_Direction(){
 1469              		.loc 1 373 29 is_stmt 1 view -0
 1470              		.cfi_startproc
 1471              		@ args = 0, pretend = 0, frame = 0
 1472              		@ frame_needed = 0, uses_anonymous_args = 0
 1473 0000 10B5     		push	{r4, lr}
 1474              	.LCFI29:
 1475              		.cfi_def_cfa_offset 8
 1476              		.cfi_offset 4, -8
 1477              		.cfi_offset 14, -4
 374:Src/foc.c     ****    Test_Direction_Info.time+=1;
 1478              		.loc 1 374 4 view .LVU368
 1479              		.loc 1 374 28 is_stmt 0 view .LVU369
 1480 0002 224B     		ldr	r3, .L95
 1481 0004 1A68     		ldr	r2, [r3]
 1482 0006 0132     		adds	r2, r2, #1
 1483 0008 1A60     		str	r2, [r3]
 375:Src/foc.c     **** 
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 35


 376:Src/foc.c     ****    if(Position_Degree>Test_Direction_Info.last_position){
 1484              		.loc 1 376 4 is_stmt 1 view .LVU370
 1485              		.loc 1 376 42 is_stmt 0 view .LVU371
 1486 000a 93ED017A 		vldr.32	s14, [r3, #4]
 1487              		.loc 1 376 22 view .LVU372
 1488 000e 204B     		ldr	r3, .L95+4
 1489 0010 D3ED007A 		vldr.32	s15, [r3]
 1490              		.loc 1 376 6 view .LVU373
 1491 0014 B4EEE77A 		vcmpe.f32	s14, s15
 1492 0018 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1493 001c 13D5     		bpl	.L92
 377:Src/foc.c     ****        Test_Direction_Info.direction_result+=1;
 1494              		.loc 1 377 8 is_stmt 1 view .LVU374
 1495              		.loc 1 377 44 is_stmt 0 view .LVU375
 1496 001e 1B4A     		ldr	r2, .L95
 1497 0020 9368     		ldr	r3, [r2, #8]
 1498 0022 0133     		adds	r3, r3, #1
 1499 0024 9360     		str	r3, [r2, #8]
 1500              	.L87:
 378:Src/foc.c     ****    }else{
 379:Src/foc.c     ****        Test_Direction_Info.direction_result-=1;
 380:Src/foc.c     ****    }
 381:Src/foc.c     **** 
 382:Src/foc.c     ****    VF_Openloop_Control(0.3f,1000,1,10);
 1501              		.loc 1 382 4 is_stmt 1 view .LVU376
 1502 0026 B2EE041A 		vmov.f32	s2, #1.0e+1
 1503 002a 0120     		movs	r0, #1
 1504 002c DFED190A 		vldr.32	s1, .L95+8
 1505 0030 9FED190A 		vldr.32	s0, .L95+12
 1506 0034 FFF7FEFF 		bl	VF_Openloop_Control
 1507              	.LVL111:
 383:Src/foc.c     **** 
 384:Src/foc.c     **** 
 385:Src/foc.c     ****    if(Test_Direction_Info.time>10000){ // run 10s
 1508              		.loc 1 385 4 view .LVU377
 1509              		.loc 1 385 26 is_stmt 0 view .LVU378
 1510 0038 144B     		ldr	r3, .L95
 1511 003a 1A68     		ldr	r2, [r3]
 1512              		.loc 1 385 6 view .LVU379
 1513 003c 42F21073 		movw	r3, #10000
 1514 0040 9A42     		cmp	r2, r3
 1515 0042 05D8     		bhi	.L94
 1516              	.L84:
 386:Src/foc.c     ****     Board_Mode=WAIT;
 387:Src/foc.c     ****     Test_Direction_Info.time=0;
 388:Src/foc.c     ****     uprintf_polling("direction result:%d\r\n",Test_Direction_Info.direction_result);
 389:Src/foc.c     ****     if(Test_Direction_Info.direction_result>0){
 390:Src/foc.c     ****         uprintf_polling("the direction of the motor is postive!\r\n");
 391:Src/foc.c     ****         Motor.direction=1;
 392:Src/foc.c     ****     }else{
 393:Src/foc.c     ****         uprintf_polling("the direction of the motor is nagative!\r\n");
 394:Src/foc.c     ****         Motor.direction=-1;
 395:Src/foc.c     ****     }
 396:Src/foc.c     ****     Test_Direction_Info.direction_result=0;
 397:Src/foc.c     ****    }
 398:Src/foc.c     **** }...
 1517              		.loc 1 398 1 view .LVU380
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 36


 1518 0044 10BD     		pop	{r4, pc}
 1519              	.L92:
 379:Src/foc.c     ****        Test_Direction_Info.direction_result-=1;
 1520              		.loc 1 379 8 is_stmt 1 view .LVU381
 379:Src/foc.c     ****        Test_Direction_Info.direction_result-=1;
 1521              		.loc 1 379 44 is_stmt 0 view .LVU382
 1522 0046 114A     		ldr	r2, .L95
 1523 0048 9368     		ldr	r3, [r2, #8]
 1524 004a 013B     		subs	r3, r3, #1
 1525 004c 9360     		str	r3, [r2, #8]
 1526 004e EAE7     		b	.L87
 1527              	.L94:
 386:Src/foc.c     ****     Board_Mode=WAIT;
 1528              		.loc 1 386 5 is_stmt 1 view .LVU383
 386:Src/foc.c     ****     Board_Mode=WAIT;
 1529              		.loc 1 386 15 is_stmt 0 view .LVU384
 1530 0050 0023     		movs	r3, #0
 1531 0052 124A     		ldr	r2, .L95+16
 1532 0054 1370     		strb	r3, [r2]
 387:Src/foc.c     ****     Test_Direction_Info.time=0;
 1533              		.loc 1 387 5 is_stmt 1 view .LVU385
 387:Src/foc.c     ****     Test_Direction_Info.time=0;
 1534              		.loc 1 387 29 is_stmt 0 view .LVU386
 1535 0056 0D4C     		ldr	r4, .L95
 1536 0058 2360     		str	r3, [r4]
 388:Src/foc.c     ****     uprintf_polling("direction result:%d\r\n",Test_Direction_Info.direction_result);
 1537              		.loc 1 388 5 is_stmt 1 view .LVU387
 1538 005a A168     		ldr	r1, [r4, #8]
 1539 005c 1048     		ldr	r0, .L95+20
 1540 005e FFF7FEFF 		bl	uprintf_polling
 1541              	.LVL112:
 389:Src/foc.c     ****     if(Test_Direction_Info.direction_result>0){
 1542              		.loc 1 389 5 view .LVU388
 389:Src/foc.c     ****     if(Test_Direction_Info.direction_result>0){
 1543              		.loc 1 389 27 is_stmt 0 view .LVU389
 1544 0062 A368     		ldr	r3, [r4, #8]
 389:Src/foc.c     ****     if(Test_Direction_Info.direction_result>0){
 1545              		.loc 1 389 7 view .LVU390
 1546 0064 002B     		cmp	r3, #0
 1547 0066 09DD     		ble	.L89
 390:Src/foc.c     ****         uprintf_polling("the direction of the motor is postive!\r\n");
 1548              		.loc 1 390 9 is_stmt 1 view .LVU391
 1549 0068 0E48     		ldr	r0, .L95+24
 1550 006a FFF7FEFF 		bl	uprintf_polling
 1551              	.LVL113:
 391:Src/foc.c     ****         Motor.direction=1;
 1552              		.loc 1 391 9 view .LVU392
 391:Src/foc.c     ****         Motor.direction=1;
 1553              		.loc 1 391 24 is_stmt 0 view .LVU393
 1554 006e 0E4B     		ldr	r3, .L95+28
 1555 0070 0122     		movs	r2, #1
 1556 0072 1A73     		strb	r2, [r3, #12]
 1557              	.L90:
 396:Src/foc.c     ****     Test_Direction_Info.direction_result=0;
 1558              		.loc 1 396 5 is_stmt 1 view .LVU394
 396:Src/foc.c     ****     Test_Direction_Info.direction_result=0;
 1559              		.loc 1 396 41 is_stmt 0 view .LVU395
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 37


 1560 0074 054B     		ldr	r3, .L95
 1561 0076 0022     		movs	r2, #0
 1562 0078 9A60     		str	r2, [r3, #8]
 1563              		.loc 1 398 1 view .LVU396
 1564 007a E3E7     		b	.L84
 1565              	.L89:
 393:Src/foc.c     ****         uprintf_polling("the direction of the motor is nagative!\r\n");
 1566              		.loc 1 393 9 is_stmt 1 view .LVU397
 1567 007c 0B48     		ldr	r0, .L95+32
 1568 007e FFF7FEFF 		bl	uprintf_polling
 1569              	.LVL114:
 394:Src/foc.c     ****         Motor.direction=-1;
 1570              		.loc 1 394 9 view .LVU398
 394:Src/foc.c     ****         Motor.direction=-1;
 1571              		.loc 1 394 24 is_stmt 0 view .LVU399
 1572 0082 094B     		ldr	r3, .L95+28
 1573 0084 FF22     		movs	r2, #255
 1574 0086 1A73     		strb	r2, [r3, #12]
 1575 0088 F4E7     		b	.L90
 1576              	.L96:
 1577 008a 00BF     		.align	2
 1578              	.L95:
 1579 008c 00000000 		.word	Test_Direction_Info
 1580 0090 00000000 		.word	Position_Degree
 1581 0094 00007A44 		.word	1148846080
 1582 0098 9A99993E 		.word	1050253722
 1583 009c 00000000 		.word	Board_Mode
 1584 00a0 00000000 		.word	.LC1
 1585 00a4 18000000 		.word	.LC2
 1586 00a8 00000000 		.word	.LANCHOR11
 1587 00ac 44000000 		.word	.LC3
 1588              		.cfi_endproc
 1589              	.LFE182:
 1591              		.section	.text.Theta_Handler,"ax",%progbits
 1592              		.align	1
 1593              		.global	Theta_Handler
 1594              		.syntax unified
 1595              		.thumb
 1596              		.thumb_func
 1597              		.fpu fpv4-sp-d16
 1599              	Theta_Handler:
 1600              	.LFB176:
 273:Src/foc.c     **** void Theta_Handler(){
 1601              		.loc 1 273 21 is_stmt 1 view -0
 1602              		.cfi_startproc
 1603              		@ args = 0, pretend = 0, frame = 0
 1604              		@ frame_needed = 0, uses_anonymous_args = 0
 1605 0000 08B5     		push	{r3, lr}
 1606              	.LCFI30:
 1607              		.cfi_def_cfa_offset 8
 1608              		.cfi_offset 3, -8
 1609              		.cfi_offset 14, -4
 274:Src/foc.c     ****     Uvect_Mos u1,u2;
 1610              		.loc 1 274 5 view .LVU401
 275:Src/foc.c     ****     float t1,t2;
 1611              		.loc 1 275 5 view .LVU402
 276:Src/foc.c     ****     float x,y;
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 38


 1612              		.loc 1 276 5 view .LVU403
 277:Src/foc.c     ****     float dealt=RPS*dealtK;
 1613              		.loc 1 277 5 view .LVU404
 1614              	.LVL115:
 279:Src/foc.c     ****     Position_Degree=Get_Position_Rad_Dgree(1);
 1615              		.loc 1 279 5 view .LVU405
 279:Src/foc.c     ****     Position_Degree=Get_Position_Rad_Dgree(1);
 1616              		.loc 1 279 21 is_stmt 0 view .LVU406
 1617 0002 0120     		movs	r0, #1
 1618 0004 FFF7FEFF 		bl	Get_Position_Rad_Dgree
 1619              	.LVL116:
 279:Src/foc.c     ****     Position_Degree=Get_Position_Rad_Dgree(1);
 1620              		.loc 1 279 20 view .LVU407
 1621 0008 114B     		ldr	r3, .L105
 1622 000a 83ED000A 		vstr.32	s0, [r3]
 280:Src/foc.c     ****     switch(Board_Mode){
 1623              		.loc 1 280 5 is_stmt 1 view .LVU408
 1624 000e 114B     		ldr	r3, .L105+4
 1625 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1626 0012 062B     		cmp	r3, #6
 1627 0014 07D8     		bhi	.L97
 1628 0016 DFE803F0 		tbb	[pc, r3]
 1629              	.L100:
 1630 001a 14       		.byte	(.L103-.L100)/2
 1631 001b 04       		.byte	(.L102-.L100)/2
 1632 001c 06       		.byte	(.L97-.L100)/2
 1633 001d 07       		.byte	(.L101-.L100)/2
 1634 001e 06       		.byte	(.L97-.L100)/2
 1635 001f 06       		.byte	(.L97-.L100)/2
 1636 0020 11       		.byte	(.L99-.L100)/2
 1637 0021 00       		.p2align 1
 1638              	.L102:
 282:Src/foc.c     ****             Foc();
 1639              		.loc 1 282 13 view .LVU409
 1640 0022 FFF7FEFF 		bl	Foc
 1641              	.LVL117:
 283:Src/foc.c     ****             break;
 1642              		.loc 1 283 13 view .LVU410
 1643              	.L97:
 297:Src/foc.c     **** }
 1644              		.loc 1 297 1 is_stmt 0 view .LVU411
 1645 0026 08BD     		pop	{r3, pc}
 1646              	.L101:
 285:Src/foc.c     ****             VF_Openloop_Control(1,1000,1,1);
 1647              		.loc 1 285 13 is_stmt 1 view .LVU412
 1648 0028 B7EE001A 		vmov.f32	s2, #1.0e+0
 1649 002c 0120     		movs	r0, #1
 1650 002e DFED0A0A 		vldr.32	s1, .L105+8
 1651 0032 B0EE410A 		vmov.f32	s0, s2
 1652 0036 FFF7FEFF 		bl	VF_Openloop_Control
 1653              	.LVL118:
 286:Src/foc.c     ****             break;
 1654              		.loc 1 286 13 view .LVU413
 1655 003a F4E7     		b	.L97
 1656              	.L99:
 288:Src/foc.c     ****             Test_Direction();
 1657              		.loc 1 288 13 view .LVU414
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 39


 1658 003c FFF7FEFF 		bl	Test_Direction
 1659              	.LVL119:
 289:Src/foc.c     ****             break;
 1660              		.loc 1 289 13 view .LVU415
 1661 0040 F1E7     		b	.L97
 1662              	.L103:
 291:Src/foc.c     ****             SVPWM(0,0);
 1663              		.loc 1 291 13 view .LVU416
 1664 0042 9FED060A 		vldr.32	s0, .L105+12
 1665 0046 F0EE400A 		vmov.f32	s1, s0
 1666 004a FFF7FEFF 		bl	SVPWM
 1667              	.LVL120:
 292:Src/foc.c     ****             break;
 1668              		.loc 1 292 13 view .LVU417
 297:Src/foc.c     **** }
 1669              		.loc 1 297 1 is_stmt 0 view .LVU418
 1670 004e EAE7     		b	.L97
 1671              	.L106:
 1672              		.align	2
 1673              	.L105:
 1674 0050 00000000 		.word	Position_Degree
 1675 0054 00000000 		.word	Board_Mode
 1676 0058 00007A44 		.word	1148846080
 1677 005c 00000000 		.word	0
 1678              		.cfi_endproc
 1679              	.LFE176:
 1681              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 1682              		.align	1
 1683              		.global	HAL_TIM_PeriodElapsedCallback
 1684              		.syntax unified
 1685              		.thumb
 1686              		.thumb_func
 1687              		.fpu fpv4-sp-d16
 1689              	HAL_TIM_PeriodElapsedCallback:
 1690              	.LVL121:
 1691              	.LFB174:
 228:Src/foc.c     **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
 1692              		.loc 1 228 60 is_stmt 1 view -0
 1693              		.cfi_startproc
 1694              		@ args = 0, pretend = 0, frame = 0
 1695              		@ frame_needed = 0, uses_anonymous_args = 0
 228:Src/foc.c     **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
 1696              		.loc 1 228 60 is_stmt 0 view .LVU420
 1697 0000 08B5     		push	{r3, lr}
 1698              	.LCFI31:
 1699              		.cfi_def_cfa_offset 8
 1700              		.cfi_offset 3, -8
 1701              		.cfi_offset 14, -4
 230:Src/foc.c     ****     if(htim->Instance==TIM7){
 1702              		.loc 1 230 5 is_stmt 1 view .LVU421
 230:Src/foc.c     ****     if(htim->Instance==TIM7){
 1703              		.loc 1 230 12 is_stmt 0 view .LVU422
 1704 0002 0268     		ldr	r2, [r0]
 230:Src/foc.c     ****     if(htim->Instance==TIM7){
 1705              		.loc 1 230 7 view .LVU423
 1706 0004 054B     		ldr	r3, .L111
 1707 0006 9A42     		cmp	r2, r3
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 40


 1708 0008 00D0     		beq	.L110
 1709              	.LVL122:
 1710              	.L107:
 236:Src/foc.c     **** }
 1711              		.loc 1 236 1 view .LVU424
 1712 000a 08BD     		pop	{r3, pc}
 1713              	.LVL123:
 1714              	.L110:
 231:Src/foc.c     ****         if(!Init_OK){
 1715              		.loc 1 231 9 is_stmt 1 view .LVU425
 231:Src/foc.c     ****         if(!Init_OK){
 1716              		.loc 1 231 12 is_stmt 0 view .LVU426
 1717 000c 044B     		ldr	r3, .L111+4
 1718 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 231:Src/foc.c     ****         if(!Init_OK){
 1719              		.loc 1 231 11 view .LVU427
 1720 0010 002B     		cmp	r3, #0
 1721 0012 FAD0     		beq	.L107
 234:Src/foc.c     ****         Theta_Handler();
 1722              		.loc 1 234 9 is_stmt 1 view .LVU428
 1723 0014 FFF7FEFF 		bl	Theta_Handler
 1724              	.LVL124:
 234:Src/foc.c     ****         Theta_Handler();
 1725              		.loc 1 234 9 is_stmt 0 view .LVU429
 1726 0018 F7E7     		b	.L107
 1727              	.L112:
 1728 001a 00BF     		.align	2
 1729              	.L111:
 1730 001c 00140040 		.word	1073746944
 1731 0020 00000000 		.word	Init_OK
 1732              		.cfi_endproc
 1733              	.LFE174:
 1735              		.global	Position_Offset
 1736              		.comm	Position_Degree,4,4
 1737              		.global	RPS
 1738              		.global	Uvects
 1739              		.global	U7
 1740              		.global	U5
 1741              		.global	U1
 1742              		.global	U3
 1743              		.global	U2
 1744              		.global	U6
 1745              		.global	U4
 1746              		.global	U0
 1747              		.global	Motor
 1748              		.comm	Test_Direction_Info,12,4
 1749              		.comm	Board_Mode,1,1
 1750              		.comm	Ibeta,4,4
 1751              		.comm	Ialpha,4,4
 1752              		.comm	ADC_Values_Raw2,8,4
 1753              		.comm	ADC_Values_Raw,8,4
 1754              		.section	.bss.CCR_Dutys.12936,"aw",%nobits
 1755              		.align	2
 1756              		.set	.LANCHOR9,. + 0
 1759              	CCR_Dutys.12936:
 1760 0000 00000000 		.space	12
 1760      00000000 
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 41


 1760      00000000 
 1761              		.section	.bss.U0,"aw",%nobits
 1762              		.align	2
 1763              		.set	.LANCHOR8,. + 0
 1766              	U0:
 1767 0000 00000000 		.space	16
 1767      00000000 
 1767      00000000 
 1767      00000000 
 1768              		.section	.bss.theta.12944,"aw",%nobits
 1769              		.align	2
 1770              		.set	.LANCHOR12,. + 0
 1773              	theta.12944:
 1774 0000 00000000 		.space	4
 1775              		.section	.data.Motor,"aw"
 1776              		.align	2
 1777              		.set	.LANCHOR11,. + 0
 1780              	Motor:
 1781 0000 07       		.byte	7
 1782 0001 000000   		.space	3
 1783 0004 00000000 		.word	0
 1784 0008 00000000 		.word	0
 1785 000c 00000000 		.space	4
 1786              		.section	.data.Position_Offset,"aw"
 1787              		.align	2
 1788              		.set	.LANCHOR10,. + 0
 1791              	Position_Offset:
 1792 0000 20CB5743 		.word	1129827104
 1793              		.section	.data.RPS,"aw"
 1794              		.align	2
 1797              	RPS:
 1798 0000 0000C040 		.word	1086324736
 1799              		.section	.data.U1,"aw"
 1800              		.align	2
 1801              		.set	.LANCHOR5,. + 0
 1804              	U1:
 1805 0000 00       		.byte	0
 1806 0001 00       		.byte	0
 1807 0002 01       		.byte	1
 1808 0003 00       		.space	1
 1809 0004 920A8640 		.word	1082526354
 1810 0008 00000000 		.space	8
 1810      00000000 
 1811              		.section	.data.U2,"aw"
 1812              		.align	2
 1813              		.set	.LANCHOR3,. + 0
 1816              	U2:
 1817 0000 00       		.byte	0
 1818 0001 01       		.byte	1
 1819 0002 00       		.byte	0
 1820 0003 00       		.space	1
 1821 0004 920A0640 		.word	1074137746
 1822 0008 00000000 		.space	8
 1822      00000000 
 1823              		.section	.data.U3,"aw"
 1824              		.align	2
 1825              		.set	.LANCHOR4,. + 0
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 42


 1828              	U3:
 1829 0000 00       		.byte	0
 1830 0001 01       		.byte	1
 1831 0002 01       		.byte	1
 1832 0003 00       		.space	1
 1833 0004 DB0F4940 		.word	1078530011
 1834 0008 00000000 		.space	8
 1834      00000000 
 1835              		.section	.data.U4,"aw"
 1836              		.align	2
 1837              		.set	.LANCHOR1,. + 0
 1840              	U4:
 1841 0000 01       		.byte	1
 1842 0001 00       		.byte	0
 1843 0002 00       		.byte	0
 1844 0003 00       		.space	1
 1845 0004 00000000 		.word	0
 1846 0008 00000000 		.space	8
 1846      00000000 
 1847              		.section	.data.U5,"aw"
 1848              		.align	2
 1849              		.set	.LANCHOR6,. + 0
 1852              	U5:
 1853 0000 01       		.byte	1
 1854 0001 00       		.byte	0
 1855 0002 01       		.byte	1
 1856 0003 00       		.space	1
 1857 0004 368DA740 		.word	1084722486
 1858 0008 00000000 		.space	8
 1858      00000000 
 1859              		.section	.data.U6,"aw"
 1860              		.align	2
 1861              		.set	.LANCHOR2,. + 0
 1864              	U6:
 1865 0000 01       		.byte	1
 1866 0001 01       		.byte	1
 1867 0002 00       		.byte	0
 1868 0003 00       		.space	1
 1869 0004 920A863F 		.word	1065749138
 1870 0008 00000000 		.space	8
 1870      00000000 
 1871              		.section	.data.U7,"aw"
 1872              		.align	2
 1873              		.set	.LANCHOR7,. + 0
 1876              	U7:
 1877 0000 01       		.byte	1
 1878 0001 01       		.byte	1
 1879 0002 01       		.byte	1
 1880 0003 00       		.space	1
 1881 0004 00000000 		.word	0
 1882 0008 00000000 		.space	8
 1882      00000000 
 1883              		.section	.data.Uvects,"aw"
 1884              		.align	2
 1885              		.set	.LANCHOR0,. + 0
 1888              	Uvects:
 1889 0000 00000000 		.word	U1
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 43


 1890 0004 00000000 		.word	U2
 1891 0008 00000000 		.word	U3
 1892 000c 00000000 		.word	U4
 1893 0010 00000000 		.word	U5
 1894 0014 00000000 		.word	U6
 1895              		.text
 1896              	.Letext0:
 1897              		.file 2 "c:\\arm_gcc\\arm-none-eabi\\include\\machine\\_default_types.h"
 1898              		.file 3 "c:\\arm_gcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 1899              		.file 4 "Inc/foc.h"
 1900              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 1901              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1902              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1903              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1904              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1905              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1906              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 1907              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1908              		.file 13 "Inc/tim.h"
 1909              		.file 14 "c:\\arm_gcc\\arm-none-eabi\\include\\sys\\lock.h"
 1910              		.file 15 "c:\\arm_gcc\\arm-none-eabi\\include\\sys\\_types.h"
 1911              		.file 16 "c:\\arm_gcc\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 1912              		.file 17 "c:\\arm_gcc\\arm-none-eabi\\include\\sys\\reent.h"
 1913              		.file 18 "c:\\arm_gcc\\arm-none-eabi\\include\\math.h"
 1914              		.file 19 "Inc/adc.h"
 1915              		.file 20 "c:\\arm_gcc\\arm-none-eabi\\include\\stdlib.h"
 1916              		.file 21 "mylib/uart_ext.h"
 1917              		.file 22 "Drivers/CMSIS/Include/arm_math.h"
 1918              		.file 23 "mylib/as5047.h"
 1919              		.file 24 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1920              		.file 25 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim_ex.h"
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 44


DEFINED SYMBOLS
                            *ABS*:00000000 foc.c
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:18     .text.UVects_Init:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:25     .text.UVects_Init:00000000 UVects_Init
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:102    .text.UVects_Init:0000003c $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:107    .text.Foc_Init:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:114    .text.Foc_Init:00000000 Foc_Init
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:202    .text.Foc_Init:0000006c $d
                            *COM*:00000001 Board_Mode
                            *COM*:00000008 ADC_Values_Raw2
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:214    .text.get_area:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:221    .text.get_area:00000000 get_area
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:244    .text.get_area:00000010 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:249    .text.get_area_u:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:256    .text.get_area_u:00000000 get_area_u
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:280    .text.get_area_u:00000010 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:286    .text.get_area_u:00000016 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:398    .text.get_area_u:00000084 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:408    .text.get_t:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:415    .text.get_t:00000000 get_t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:533    .text.get_t:00000098 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:538    .text.get_ccr_duty:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:545    .text.get_ccr_duty:00000000 get_ccr_duty
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:677    .text.get_ccr_duty:000000f0 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:682    .text.SVPWM_Step:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:689    .text.SVPWM_Step:00000000 SVPWM_Step
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:741    .text.SVPWM_Step:00000058 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:747    .rodata.Set_to_U4.str1.4:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:751    .text.Set_to_U4:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:758    .text.Set_to_U4:00000000 Set_to_U4
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:837    .text.Set_to_U4:0000006c $d
                            *COM*:00000004 Position_Degree
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:845    .text.SVPWM_Normal_CalT1T2:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:852    .text.SVPWM_Normal_CalT1T2:00000000 SVPWM_Normal_CalT1T2
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:869    .text.SVPWM_Normal_CalT1T2:0000000a $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:875    .text.SVPWM_Normal_CalT1T2:00000010 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:999    .text.SVPWM_Normal_CalT1T2:000000c0 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1007   .text.SVPWM:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1013   .text.SVPWM:00000000 SVPWM
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1117   .text.SVPWM:00000094 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1123   .text.Park_Conv:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1130   .text.Park_Conv:00000000 Park_Conv
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1163   .text.Park_Conv:00000028 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1168   .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1175   .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1249   .text.HAL_ADC_ConvCpltCallback:00000064 $d
                            *COM*:00000004 Ibeta
                            *COM*:00000004 Ialpha
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1261   .text.Foc:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1268   .text.Foc:00000000 Foc
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1350   .text.Foc:00000064 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1359   .text.VF_Openloop_Control:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1366   .text.VF_Openloop_Control:00000000 VF_Openloop_Control
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1444   .text.VF_Openloop_Control:00000074 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1451   .rodata.Test_Direction.str1.4:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1461   .text.Test_Direction:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1467   .text.Test_Direction:00000000 Test_Direction
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 45


C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1579   .text.Test_Direction:0000008c $d
                            *COM*:0000000c Test_Direction_Info
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1592   .text.Theta_Handler:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1599   .text.Theta_Handler:00000000 Theta_Handler
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1630   .text.Theta_Handler:0000001a $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1674   .text.Theta_Handler:00000050 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1682   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1689   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1730   .text.HAL_TIM_PeriodElapsedCallback:0000001c $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1791   .data.Position_Offset:00000000 Position_Offset
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1797   .data.RPS:00000000 RPS
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1888   .data.Uvects:00000000 Uvects
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1876   .data.U7:00000000 U7
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1852   .data.U5:00000000 U5
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1804   .data.U1:00000000 U1
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1828   .data.U3:00000000 U3
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1816   .data.U2:00000000 U2
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1864   .data.U6:00000000 U6
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1840   .data.U4:00000000 U4
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1766   .bss.U0:00000000 U0
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1780   .data.Motor:00000000 Motor
                            *COM*:00000008 ADC_Values_Raw
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1755   .bss.CCR_Dutys.12936:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1759   .bss.CCR_Dutys.12936:00000000 CCR_Dutys.12936
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1762   .bss.U0:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1769   .bss.theta.12944:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1773   .bss.theta.12944:00000000 theta.12944
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1776   .data.Motor:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1787   .data.Position_Offset:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1794   .data.RPS:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1800   .data.U1:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1812   .data.U2:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1824   .data.U3:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1836   .data.U4:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1848   .data.U5:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1860   .data.U6:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1872   .data.U7:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1884   .data.Uvects:00000000 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1637   .text.Theta_Handler:00000021 $d
C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s:1637   .text.Theta_Handler:00000022 $t

UNDEFINED SYMBOLS
cosf
sinf
HAL_TIM_PWM_Start
HAL_TIMEx_PWMN_Start
HAL_TIM_Base_Start_IT
HAL_ADC_Start_DMA
HAL_TIM_Base_Start
htim8
htim7
hadc2
arm_sin_cos_f32
__aeabi_f2d
HAL_Delay
uprintf
uprintf_polling
ARM GAS  C:\Users\ncer\AppData\Local\Temp\cc7aC0jU.s 			page 46


Get_Position_Rad_Dgree
Init_OK
